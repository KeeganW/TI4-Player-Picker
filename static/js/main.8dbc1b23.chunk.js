(this.webpackJsonpti4=this.webpackJsonpti4||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"size":37,"pokSize":61,"blankMap":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],"styles":{"2":{"normal":{"description":"A board smaller and more proportioned to modified two player TI.","source":"KingOfRohan","home_worlds":[22,31],"primary_tiles":[9,15],"secondary_tiles":[5,2,21,30,32,23],"tertiary_tiles":[10,16,14,8,7,13,12,18,1,4,6,3],"hyperlane_tiles":[]}},"3":{"normal":{"description":"Control what is around you for resources, and attack the center for victory points.","source":"Game Rules","home_worlds":[22,28,34],"primary_tiles":[9,13,17],"secondary_tiles":[6,4,2,21,27,33,35,29,23],"tertiary_tiles":[8,12,16,18,14,10,1,3,5,15,11,7],"hyperlane_tiles":[]},"compact":{"description":"A more compact variant, that encourages fighting. Recommended to play with high resource values.","source":"Unknown","home_worlds":[10,14,18],"primary_tiles":[2,4,6,1,5,3],"secondary_tiles":[9,13,17,7,15,11],"tertiary_tiles":[12,16,8],"hyperlane_tiles":[]},"manta":{"description":"A flatter 3 player map without a top of the galaxy.","source":"arborecsoup","home_worlds":[28,25,31],"primary_tiles":[13,11,15],"secondary_tiles":[4,3,5,27,26,30,29,32,24],"tertiary_tiles":[12,10,16,14,6,2,1],"hyperlane_tiles":[]},"rex":{"description":"A competitive map with adjacencies.","source":"rex","home_worlds":[7,11,15],"primary_tiles":[8,12,16,6,4,2],"secondary_tiles":[18,10,14,31,25,19],"tertiary_tiles":[9,13,17,34,28,22],"hyperlane_tiles":[[1,"90A",0],[3,"90A",2],[5,"90A",1],[20,"85A",4],[24,"85A",4],[26,"85A",0],[30,"85A",0],[32,"85A",2],[36,"85A",2]]}},"4":{"normal":{"description":"Control what is around you for resources, and attack the center for victory points.","source":"Game Rules","home_worlds":[23,27,32,36],"primary_tiles":[9,12,15,18,7,16,13,10],"secondary_tiles":[2,4,5,1,19,33,28,24,22,26,31,35],"tertiary_tiles":[3,6,17,14,11,8,20,25,29,34,30,21],"hyperlane_tiles":[]},"horizontal":{"description":"A slightly smaller than normal board which is aligned horizontally.","source":"Squishyish","home_worlds":[22,25,31,34],"primary_tiles":[9,11,15,17],"secondary_tiles":[6,5,3,2,21,26,30,35,33,32,24,23],"tertiary_tiles":[1,4,18,14,12,8,10,13,16,7],"hyperlane_tiles":[]},"vertical":{"description":"An smaller than normal board aligned vertically.","source":"Unknown","home_worlds":[21,26,30,35],"primary_tiles":[8,12,14,18],"secondary_tiles":[6,5,3,2,20,27,29,36,17,15,11,9],"tertiary_tiles":[1,4,16,10,7,13],"hyperlane_tiles":[]},"gaps":{"description":"A smaller than normal board aligned vertically, but with gaps to encourage fights with neighbors.","source":"Unknown","home_worlds":[21,26,30,35],"primary_tiles":[8,12,14,18],"secondary_tiles":[6,5,3,2,20,27,29,36,17,15,11,9],"tertiary_tiles":[16,10,7,13],"hyperlane_tiles":[]},"warp":{"description":"A smaller than normal board aligned vertically, but filled two hyperlanes to facilitate getting across the board.","source":"Unknown","home_worlds":[21,26,30,35],"primary_tiles":[8,12,14,18],"secondary_tiles":[6,5,3,2,20,27,29,36,17,15,11,9],"tertiary_tiles":[16,10,7,13],"hyperlane_tiles":[[1,"87A",1],[4,"88A",2]]},"double warp":{"description":"Split sides of the galaxy with many hyperlanes connecting the sides.","source":"Unknown","home_worlds":[22,25,31,34],"primary_tiles":[9,11,15,17,7,13],"secondary_tiles":[6,5,3,2,35,30,26,21,23,24,32,33],"tertiary_tiles":[10,16],"hyperlane_tiles":[[8,"89B",5],[12,"87B",4],[14,"90B",2],[18,"91B",1]]},"mini warp":{"description":"S more standard 4 player map, but with 4 hyperlanes to bring neighbors closer.","source":"Captbrownshoes","home_worlds":[36,23,27,32],"primary_tiles":[7,10,13,15,16,12,9,18],"secondary_tiles":[1,2,4,5,17,11],"tertiary_tiles":[24,26,33,35,6,3,19,31,28,22,21,29,30,20],"hyperlane_tiles":[[8,"91A",2],[14,"84B",5],[25,"85A",5],[34,"86A",2]]}},"5":{"normal":{"description":"Control what is around you for resources, and attack the center for victory points.","source":"Game Rules","home_worlds":[21,25,28,31,35],"primary_tiles":[13,15,11,17,9],"secondary_tiles":[4,3,5,6,2,29,30,26,8,18,27,24,32,34,22],"tertiary_tiles":[1,16,7,10,12,14,33,23,20,36,19],"hyperlane_tiles":[]},"warp":{"description":"The modified version of the 5 player map from FFG for use with hyperlanes.","source":"Base Game","home_worlds":[19,22,25,31,34],"primary_tiles":[7,9,11,15,17],"secondary_tiles":[6,5,3,2,1,13,16,18,8,10],"tertiary_tiles":[20,23,26,32,35,33,30,24,21,36],"hyperlane_tiles":[[4,"86A",0],[12,"88A",0],[14,"87A",0],[27,"83A",0],[28,"85A",0],[29,"84A",0]],"overrideRatios":{"blueTileRatio":3,"redTileRatio":2}},"diamond":{"description":"A slightly smaller map than normal, which focuses on being closer to Mecatol Rex.","source":"Unknown","home_worlds":[21,24,28,32,35],"primary_tiles":[9,11,13,15,17],"secondary_tiles":[6,5,4,3,2,18,16,29,10,8,20,23,27,33,36],"tertiary_tiles":[1,7,12,14,19],"hyperlane_tiles":[]},"flat":{"description":"A wide map with a missing top and extra tiles on the sides.","source":"Good Sauce","home_worlds":[28,22,34,25,31],"primary_tiles":[13,15,11,9,17],"secondary_tiles":[6,2,3,5,4,27,24,32,56,42],"tertiary_tiles":[23,33,30,26,29,1,12,14,10,16,43,55,8,18,7,44,54],"hyperlane_tiles":[]},"notch":{"description":"A distinct notch separates the players at the top of the board, making their home systems still distant.","source":"Kazadoom","home_worlds":[28,20,36,24,32],"primary_tiles":[8,11,13,15,18],"secondary_tiles":[6,5,4,3,2,21,10,27,16,35,17,31,29,25,9],"tertiary_tiles":[1,12,14,34,30,26,22,23,33],"hyperlane_tiles":[]},"approaching":{"description":"A taller 5 player map which moves one player further from Mecatol Rex.","source":"Unknown","home_worlds":[21,24,28,32,35],"primary_tiles":[8,10,13,16,18],"secondary_tiles":[6,5,4,3,2,20,11,29,33,36,17,15,27,23,9],"tertiary_tiles":[1,12,7,14,19],"hyperlane_tiles":[]}},"6":{"normal":{"description":"Control what is around you for resources, and attack the center for victory points.","source":"Game Rules","home_worlds":[19,22,25,28,31,34],"primary_tiles":[7,9,11,13,15,17],"secondary_tiles":[6,5,4,3,2,1,20,21,24,27,30,33],"tertiary_tiles":[18,16,14,12,10,8,23,26,29,32,35,36],"hyperlane_tiles":[]},"spiral":{"description":"More adjacent home planets, with the same path to the middle.","source":"9__Erebus","home_worlds":[20,23,26,29,32,35],"primary_tiles":[8,10,12,14,16,18,6,5,4,3,2,1],"secondary_tiles":[19,22,25,28,31,34,17,15,13,11,9,7],"tertiary_tiles":[27,24,21,36,33,30],"hyperlane_tiles":[]},"large":{"description":"The large version using the expansion tiles.","source":"Game Rules","home_worlds":[37,41,45,49,53,57],"primary_tiles":[19,22,25,28,31,34,17,15,13,11,9,7],"secondary_tiles":[60,40,44,48,52,56,58,54,50,46,42,38],"tertiary_tiles":[1,2,3,4,5,6,16,14,12,10,8,18,20,23,26,29,32,35,33,30,27,24,21,36,39,43,47,51,55,59],"hyperlane_tiles":[]}},"7":{"normal":{"description":"Control what is around you for resources, and attack the center for victory points.","source":"Game Rules","home_worlds":[37,40,43,46,52,55,58],"primary_tiles":[19,21,23,25,31,33,35,18,16,15,11,10,8,7],"secondary_tiles":[1,2,3,4,5,6,57,54,51,47,44,41,38,60,39,42,45,53,56,59,20,36],"tertiary_tiles":[17,14,12,9,34,32,30,26,24,22,28],"hyperlane_tiles":[[13,"86A",0],[27,"88A",0],[29,"87A",0],[48,"83A",0],[49,"85A",0],[50,"84A",0]]},"warp":{"description":"The alternate map to use with 7 players which uses different hyperlanes.","source":"Game Rules","home_worlds":[37,22,25,49,52,55,58],"primary_tiles":[19,35,16,30,28,11,9],"secondary_tiles":[2,3,13,14,6,18,7,60,34,32,51,48,24,21],"tertiary_tiles":[23,26,50,31,56,59,38,36,17,15,29,12,10,8],"hyperlane_tiles":[[1,"85B",0],[4,"84B",0],[5,"90B",0],[20,"88B",0],[27,"86B",0],[33,"83B",5]]}},"8":{"normal":{"description":"Control what is around you for resources, and attack the center for victory points.","source":"Game Rules","home_worlds":[37,40,43,46,49,52,55,58],"primary_tiles":[19,35,33,30,28,26,24,21],"secondary_tiles":[2,3,4,5,6,1,7,18,16,14,13,12,10,8],"tertiary_tiles":[60,57,54,51,48,45,42,39,41,44,47,50,53,56,59,38,36,20,27,29,17,15,11,9,34,32,31,25,23,22],"hyperlane_tiles":[]},"warp":{"description":"The alternate map to use with 8 players which uses hyperlanes.","source":"Game Rules","home_worlds":[37,40,43,46,49,52,55,58,37],"primary_tiles":[19,21,10,26,28,30,16,35],"secondary_tiles":[18,6,14,13,12,3,8,7,60,39,23,25,48,51,32,34,59,56,31,50,47,44,22,38],"tertiary_tiles":[20,9,11,27,29,15,17,36],"hyperlane_tiles":[[1,"87A",1],[2,"90B",3],[4,"88A",2],[5,"89B",0],[24,"85B",5],[33,"83B",5]]}}}}')},15:function(e){e.exports=JSON.parse('{"0":[1,2,3,4,5,6],"1":[7,8,2,0,6,18],"2":[8,9,10,3,0,1],"3":[2,10,11,12,4,0],"4":[0,3,12,13,14,5],"5":[6,0,4,14,15,16],"6":[18,1,0,5,16,17],"7":[19,20,8,1,18,36],"8":[20,21,9,2,1,7],"9":[21,22,23,10,2,8],"10":[9,23,24,11,3,2],"11":[10,24,25,26,12,3],"12":[3,11,26,27,13,4],"13":[4,12,27,28,29,14],"14":[5,4,13,29,30,15],"15":[16,5,14,30,31,32],"16":[17,6,5,15,32,33],"17":[35,18,6,16,33,34],"18":[36,7,1,6,17,35],"19":[37,38,20,7,36,60],"20":[38,39,21,8,7,19],"21":[39,40,22,9,8,20],"22":[40,41,42,23,9,21],"23":[22,42,43,24,10,9],"24":[23,43,44,25,11,10],"25":[24,44,45,46,26,11],"26":[11,25,46,47,27,12],"27":[12,26,47,48,28,13],"28":[13,27,48,49,50,29],"29":[14,13,28,50,51,30],"30":[15,14,29,51,52,31],"31":[32,15,30,52,53,54],"32":[33,16,15,31,54,55],"33":[34,17,16,32,55,56],"34":[58,35,17,33,56,57],"35":[59,36,18,17,34,58],"36":[60,19,7,18,35,59],"37":[38,19,60],"38":[39,20,19,37],"39":[40,21,20,38],"40":[41,22,21,39],"41":[42,22,40],"42":[41,43,23,22],"43":[42,44,24,23],"44":[43,45,25,24],"45":[44,46,25],"46":[25,45,47,26],"47":[26,46,48,27],"48":[27,47,49,28],"49":[28,48,50],"50":[29,28,49,51],"51":[30,29,50,52],"52":[31,30,51,53],"53":[54,31,52],"54":[55,32,31,53],"55":[56,33,32,54],"56":[57,34,33,55],"57":[58,34,56],"58":[59,35,34,57],"59":[60,36,35,58],"60":[37,19,36,59]}')},18:function(e){e.exports=JSON.parse('{"races":["Sardakk N\'orr","The Arborec","The Barony of Letnev","The Clan of Saar","The Embers of Muaat","The Emirates of Hacan","The Federation of Sol","The Ghosts of Creuss","The Lizix Mindnet","The Mentak Coalition","The Naalu Collective","The Nekro Virus","The Universities of Jol-Nar","The Winnu","The Xxcha Kingdom","The Yin Brotherhood","The Yssaril Tribes"],"pokRaces":["The Argent Flight","The Empyrean","The Mahact Gene-sorcerers","The Naaz-Rokha Alliance","The Nomad","The Titans of Ul","The Vuil\'raith Cabal"],"homeSystems":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],"pokHomeSystems":[52,53,54,55,56,57,58],"homeSystemToRaceMap":{"1":"The Federation of Sol","2":"The Mentak Coalition","3":"The Yin Brotherhood","4":"The Embers of Muaat","5":"The Arborec","6":"The Lizix Mindnet","7":"The Winnu","8":"The Nekro Virus","9":"The Naalu Collective","10":"The Barony of Letnev","11":"The Clan of Saar","12":"The Universities of Jol-Nar","13":"Sardakk N\'orr","14":"The Xxcha Kingdom","15":"The Yssaril Tribes","16":"The Emirates of Hacan","17":"The Ghosts of Creuss","52":"The Mahact Gene-sorcerers","53":"The Nomad","54":"The Vuil\'raith Cabal","55":"The Titans of Ul","56":"The Empyrean","57":"The Naaz-Rokha Alliance","58":"The Argent Flight"},"raceToHomeSystemMap":{"The Federation of Sol":1,"The Mentak Coalition":2,"The Yin Brotherhood":3,"The Embers of Muaat":4,"The Arborec":5,"The Lizix Mindnet":6,"The Winnu":7,"The Nekro Virus":8,"The Naalu Collective":9,"The Barony of Letnev":10,"The Clan of Saar":11,"The Universities of Jol-Nar":12,"Sardakk N\'orr":13,"The Xxcha Kingdom":14,"The Yssaril Tribes":15,"The Emirates of Hacan":16,"The Ghosts of Creuss":17,"The Mahact Gene-sorcerers":52,"The Nomad":53,"The Vuil\'raith Cabal":54,"The Titans of Ul":55,"The Empyrean":56,"The Naaz-Rokha Alliance":57,"The Argent Flight":58}}')},37:function(e,t,a){},38:function(e,t,a){},4:function(e){e.exports=JSON.parse('{"green":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,51],"pokGreen":[52,53,54,55,56,57,58],"blue":[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],"pokBlue":[59,60,61,62,63,64,65,66,69,70,71,72,73,74,75,76],"red":[39,40,41,42,43,44,45,46,47,48,49,50],"pokRed":[67,68,77,78,79,80],"anomaly":[41,42,43,44,45],"pokAnomaly":[67,68,79,80],"blankRed":[39,40,46,47,48,49,50],"pokBlankRed":[77,78],"alphaWormholes":[26,39],"pokAlphaWormholes":[79],"betaWormholes":[25,40],"pokBetaWormholes":[64],"asteroidFields":[44,45],"pokAsteroidFields":[79],"gravityRifts":[41],"pokGravityRifts":[67],"nebulae":[42],"pokNebulae":[68],"supernovas":[43],"pokSupernovas":[80],"hyperlanes":["83A","83B","84A","84B","85A","85B","86A","86B","87A","87B","88A","88B","89A","89B","90A","90B","91A","91B"],"all":{"1":{"type":"green","race":"The Federation of Sol","wormhole":null,"planets":[{"name":"Jord","resources":4,"influence":2,"trait":null,"specialty":null,"legendary":false}]},"2":{"type":"green","race":"The Mentak Coalition","wormhole":null,"planets":[{"name":"Moll Primus","resources":4,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"3":{"type":"green","race":"The Yin Brotherhood","wormhole":null,"planets":[{"name":"Darien","resources":4,"influence":4,"trait":null,"specialty":null,"legendary":false}]},"4":{"type":"green","race":"The Embers of Muaat","wormhole":null,"planets":[{"name":"Muaat","resources":4,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"5":{"type":"green","race":"The Arborec","wormhole":null,"planets":[{"name":"Nestphar","resources":3,"influence":2,"trait":null,"specialty":null,"legendary":false}]},"6":{"type":"green","race":"The Lizix Mindnet","wormhole":null,"planets":[{"name":"[0.0.0]","resources":5,"influence":0,"trait":null,"specialty":null,"legendary":false}]},"7":{"type":"green","race":"The Winnu","wormhole":null,"planets":[{"name":"Winnu","resources":3,"influence":4,"trait":null,"specialty":null,"legendary":false}]},"8":{"type":"green","race":"The Nekro Virus","wormhole":null,"planets":[{"name":"Mordai II","resources":4,"influence":0,"trait":null,"specialty":null,"legendary":false}]},"9":{"type":"green","race":"The Naalu Collective","wormhole":null,"planets":[{"name":"Maaluuk","resources":2,"influence":0,"trait":null,"specialty":null,"legendary":false},{"name":"Druaa","resources":3,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"10":{"type":"green","race":"The Barony of Letnev","wormhole":null,"planets":[{"name":"Arc Prime","resources":4,"influence":0,"trait":null,"specialty":null,"legendary":false},{"name":"Wren Terra","resources":2,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"11":{"type":"green","race":"The Clan of Saar","wormhole":null,"planets":[{"name":"Lisis II","resources":1,"influence":0,"trait":null,"specialty":null,"legendary":false},{"name":"Ragh","resources":2,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"12":{"type":"green","race":"The Universities of Jol-Nar","wormhole":null,"planets":[{"name":"Nar","resources":2,"influence":3,"trait":null,"specialty":null,"legendary":false},{"name":"Jol","resources":1,"influence":2,"trait":null,"specialty":null,"legendary":false}]},"13":{"type":"green","race":"Sardakk N\'orr","wormhole":null,"planets":[{"name":"Tren\'lak","resources":1,"influence":0,"trait":null,"specialty":null,"legendary":false},{"name":"Quinarra","resources":3,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"14":{"type":"green","race":"The Xxcha Kingdom","wormhole":null,"planets":[{"name":"Archon Ren","resources":2,"influence":3,"trait":null,"specialty":null,"legendary":false},{"name":"Archon Tau","resources":1,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"15":{"type":"green","race":"The Yssaril Tribes","wormhole":null,"planets":[{"name":"Retillion","resources":2,"influence":3,"trait":null,"specialty":null,"legendary":false},{"name":"Shalloq","resources":1,"influence":2,"trait":null,"specialty":null,"legendary":false}]},"16":{"type":"green","race":"The Emirates of Hacan","wormhole":null,"planets":[{"name":"Arretze","resources":2,"influence":0,"trait":null,"specialty":null,"legendary":false},{"name":"Hercant","resources":1,"influence":1,"trait":null,"specialty":null,"legendary":false},{"name":"Kamdorn","resources":0,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"17":{"type":"green","race":"The Ghosts of Creuss","wormhole":"delta","planets":[]},"18":{"type":"blue","wormhole":null,"planets":[{"name":"Mecatol Rex","resources":1,"influence":6,"trait":null,"specialty":null,"legendary":false}]},"19":{"type":"blue","wormhole":null,"planets":[{"name":"Wellon","resources":1,"influence":2,"trait":"industrial","specialty":"cybernetic","legendary":false}]},"20":{"type":"blue","wormhole":null,"planets":[{"name":"Vefut II","resources":2,"influence":2,"trait":"hazardous","specialty":null,"legendary":false}]},"21":{"type":"blue","wormhole":null,"planets":[{"name":"Thibah","resources":1,"influence":1,"trait":"industrial","specialty":"propulsion","legendary":false}]},"22":{"type":"blue","wormhole":null,"planets":[{"name":"Tar\'mann","resources":1,"influence":1,"trait":"industrial","specialty":"biotic","legendary":false}]},"23":{"type":"blue","wormhole":null,"planets":[{"name":"Saudor","resources":2,"influence":2,"trait":"industrial","specialty":null,"legendary":false}]},"24":{"type":"blue","wormhole":null,"planets":[{"name":"Mehar Xull","resources":1,"influence":3,"trait":"hazardous","specialty":"warfare","legendary":false}]},"25":{"type":"blue","wormhole":"beta","planets":[{"name":"Quann","resources":2,"influence":1,"trait":"cultural","specialty":null,"legendary":false}]},"26":{"type":"blue","wormhole":"alpha","planets":[{"name":"Lodor","resources":3,"influence":1,"trait":"cultural","specialty":null,"legendary":false}]},"27":{"type":"blue","wormhole":null,"planets":[{"name":"New Albion","resources":1,"influence":1,"trait":"industrial","specialty":"biotic","legendary":false},{"name":"Starpoint","resources":3,"influence":1,"trait":"hazardous","specialty":null,"legendary":false}]},"28":{"type":"blue","wormhole":null,"planets":[{"name":"Tequ\'ran","resources":2,"influence":0,"trait":"hazardous","specialty":null,"legendary":false},{"name":"Torkan","resources":0,"influence":3,"trait":"cultural","specialty":null,"legendary":false}]},"29":{"type":"blue","wormhole":null,"planets":[{"name":"Qucen\'n","resources":1,"influence":2,"trait":"industrial","specialty":null,"legendary":false},{"name":"Rarron","resources":0,"influence":3,"trait":"cultural","specialty":null,"legendary":false}]},"30":{"type":"blue","wormhole":null,"planets":[{"name":"Mellon","resources":0,"influence":2,"trait":"cultural","specialty":null,"legendary":false},{"name":"Zohbat","resources":3,"influence":1,"trait":"hazardous","specialty":null,"legendary":false}]},"31":{"type":"blue","wormhole":null,"planets":[{"name":"Lazar","resources":1,"influence":0,"trait":"industrial","specialty":"cybernetic","legendary":false},{"name":"Sakulag","resources":2,"influence":1,"trait":"hazardous","specialty":null,"legendary":false}]},"32":{"type":"blue","wormhole":null,"planets":[{"name":"Dal Bootha","resources":0,"influence":2,"trait":"cultural","specialty":null,"legendary":false},{"name":"Xxehan","resources":1,"influence":1,"trait":"cultural","specialty":null,"legendary":false}]},"33":{"type":"blue","wormhole":null,"planets":[{"name":"Corneeq","resources":1,"influence":2,"trait":"cultural","specialty":null,"legendary":false},{"name":"Resulon","resources":2,"influence":0,"trait":"cultural","specialty":null,"legendary":false}]},"34":{"type":"blue","wormhole":null,"planets":[{"name":"Centauri","resources":1,"influence":3,"trait":"cultural","specialty":null,"legendary":false},{"name":"Gral","resources":1,"influence":1,"trait":"industrial","specialty":"propulsion","legendary":false}]},"35":{"type":"blue","wormhole":null,"planets":[{"name":"Bereg","resources":3,"influence":1,"trait":"hazardous","specialty":null,"legendary":false},{"name":"Lirta IV","resources":2,"influence":3,"trait":"hazardous","specialty":null,"legendary":false}]},"36":{"type":"blue","wormhole":null,"planets":[{"name":"Arnor","resources":2,"influence":1,"trait":"industrial","specialty":null,"legendary":false},{"name":"Lor","resources":1,"influence":2,"trait":"industrial","specialty":null,"legendary":false}]},"37":{"type":"blue","wormhole":null,"planets":[{"name":"Arinam","resources":1,"influence":2,"trait":"industrial","specialty":null,"legendary":false},{"name":"Meer","resources":0,"influence":4,"trait":"hazardous","specialty":"warfare","legendary":false}]},"38":{"type":"blue","wormhole":null,"planets":[{"name":"Abyz","resources":3,"influence":0,"trait":"hazardous","specialty":null,"legendary":false},{"name":"Fria","resources":2,"influence":0,"trait":"hazardous","specialty":null,"legendary":false}]},"39":{"type":"red","wormhole":"alpha","anomaly":null,"planets":[]},"40":{"type":"red","wormhole":"beta","anomaly":null,"planets":[]},"41":{"type":"red","wormhole":null,"anomaly":"gravity-rift","planets":[]},"42":{"type":"red","wormhole":null,"anomaly":"nebula","planets":[]},"43":{"type":"red","wormhole":null,"anomaly":"supernova","planets":[]},"44":{"type":"red","wormhole":null,"anomaly":"asteroid-field","planets":[]},"45":{"type":"red","wormhole":null,"anomaly":"asteroid-field","planets":[]},"46":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"47":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"48":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"49":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"50":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"51":{"type":"green","wormhole":"delta","planets":[{"name":"Creuss","resources":4,"influence":2,"specialty":null,"legendary":false}]},"52":{"type":"green","race":"The Mahact Gene-sorcerers","wormhole":null,"planets":[{"name":"Ixth","resources":3,"influence":5,"trait":null,"specialty":null,"legendary":false}]},"53":{"type":"green","race":"The Nomad","wormhole":null,"planets":[{"name":"Arcturus","resources":4,"influence":4,"trait":null,"specialty":null,"legendary":false}]},"54":{"type":"green","race":"The Vuil\'raith Cabal","wormhole":null,"planets":[{"name":"Acheron","resources":4,"influence":0,"trait":null,"specialty":null,"legendary":false}]},"55":{"type":"green","race":"The Titans of Ul","wormhole":null,"planets":[{"name":"Elysium","resources":4,"influence":1,"trait":null,"specialty":null,"legendary":false}]},"56":{"type":"green","race":"The Empyrean","wormhole":null,"planets":[{"name":"The Dark","resources":3,"influence":4,"trait":null,"specialty":null,"legendary":false}]},"57":{"type":"green","race":"The Naaz-Rokha Alliance","wormhole":null,"planets":[{"name":"Naazir","resources":2,"influence":1,"trait":null,"specialty":null,"legendary":false},{"name":"Rokha","resources":1,"influence":2,"trait":null,"specialty":null,"legendary":false}]},"58":{"type":"green","race":"The Argent Flight","wormhole":null,"planets":[{"name":"Valk","resources":2,"influence":0,"trait":null,"specialty":null,"legendary":false},{"name":"Avar","resources":1,"influence":1,"trait":null,"specialty":null,"legendary":false},{"name":"Ylir","resources":0,"influence":2,"trait":null,"specialty":null,"legendary":false}]},"59":{"type":"blue","wormhole":null,"planets":[{"name":"Archon Vail","resources":1,"influence":3,"trait":"hazardous","specialty":"propulsion","legendary":false}]},"60":{"type":"blue","wormhole":null,"planets":[{"name":"Perimeter","resources":2,"influence":1,"trait":"industrial","specialty":null,"legendary":false}]},"61":{"type":"blue","wormhole":null,"planets":[{"name":"Ang","resources":2,"influence":0,"trait":"industrial","specialty":"warfare","legendary":false}]},"62":{"type":"blue","wormhole":null,"planets":[{"name":"Sem-Lore","resources":3,"influence":2,"trait":"cultural","specialty":"cybernetic","legendary":false}]},"63":{"type":"blue","wormhole":null,"planets":[{"name":"Vorhal","resources":0,"influence":2,"trait":"cultural","specialty":"biotic","legendary":false}]},"64":{"type":"blue","wormhole":"beta","planets":[{"name":"Atlas","resources":3,"influence":1,"trait":"hazardous","specialty":null,"legendary":false}]},"65":{"type":"blue","wormhole":null,"planets":[{"name":"Primor","resources":2,"influence":1,"trait":"cultural","specialty":null,"legendary":true}]},"66":{"type":"blue","wormhole":null,"planets":[{"name":"Hope\'s End","resources":3,"influence":0,"trait":"hazardous","specialty":null,"legendary":true}]},"67":{"type":"red","wormhole":null,"anomaly":"gravity-rift","planets":[{"name":"Cormund","resources":2,"influence":0,"trait":"hazardous","specialty":null,"legendary":false}]},"68":{"type":"red","wormhole":null,"anomaly":"nebula","planets":[{"name":"Everra","resources":3,"influence":1,"trait":"cultural","specialty":null,"legendary":false}]},"69":{"type":"blue","wormhole":null,"planets":[{"name":"Accoen","resources":2,"influence":3,"trait":"industrial","specialty":null,"legendary":false},{"name":"Jeol Ir","resources":2,"influence":3,"trait":"industrial","specialty":null,"legendary":false}]},"70":{"type":"blue","wormhole":null,"planets":[{"name":"Kraag","resources":2,"influence":1,"trait":"hazardous","specialty":null,"legendary":false},{"name":"Siig","resources":0,"influence":2,"trait":"hazardous","specialty":null,"legendary":false}]},"71":{"type":"blue","wormhole":null,"planets":[{"name":"Ba\'Kal","resources":3,"influence":2,"trait":"industrial","specialty":null,"legendary":false},{"name":"Alio Prima","resources":1,"influence":1,"trait":"cultural","specialty":null,"legendary":false}]},"72":{"type":"blue","wormhole":null,"planets":[{"name":"Lisis","resources":2,"influence":2,"trait":"industrial","specialty":null,"legendary":false},{"name":"Velnor","resources":2,"influence":1,"trait":"industrial","specialty":"warfare","legendary":false}]},"73":{"type":"blue","wormhole":null,"planets":[{"name":"Lisis","resources":0,"influence":2,"trait":"cultural","specialty":"cybernetic","legendary":false},{"name":"Xanhact","resources":0,"influence":1,"trait":"hazardous","specialty":null,"legendary":false}]},"74":{"type":"blue","wormhole":null,"planets":[{"name":"Vega Major","resources":2,"influence":1,"trait":"cultural","specialty":null,"legendary":false},{"name":"Vega Minor","resources":1,"influence":2,"trait":"cultural","specialty":"propulsion","legendary":false}]},"75":{"type":"blue","wormhole":null,"planets":[{"name":"Loki","resources":1,"influence":2,"trait":"cultural","specialty":null,"legendary":false},{"name":"Abaddon","resources":1,"influence":0,"trait":"cultural","specialty":null,"legendary":false},{"name":"Ashtroth","resources":2,"influence":0,"trait":"hazardous","specialty":null,"legendary":false}]},"76":{"type":"blue","wormhole":null,"planets":[{"name":"Rigel I","resources":0,"influence":1,"trait":"hazardous","specialty":null,"legendary":false},{"name":"Rigel II","resources":1,"influence":2,"trait":"industrial","specialty":null,"legendary":false},{"name":"Rigel III","resources":1,"influence":1,"trait":"industrial","specialty":"biotic","legendary":false}]},"77":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"78":{"type":"red","wormhole":null,"anomaly":null,"planets":[]},"79":{"type":"red","wormhole":"alpha","anomaly":"asteroid-field","planets":[]},"80":{"type":"red","wormhole":null,"anomaly":"supernova","planets":[]},"81":{"type":"red","wormhole":null,"anomaly":"muaat-supernova","planets":[]},"82":{"type":"blue","wormhole":"all","planets":[{"name":"Mallice","resources":0,"influence":3,"trait":"cultural","specialty":null,"legendary":true}]},"83A":{"type":"hyperlane","hyperlanes":[[1,4]],"wormhole":null,"planets":[]},"83B":{"type":"hyperlane","hyperlanes":[[0,3],[0,2],[3,5]],"wormhole":null,"planets":[]},"84A":{"type":"hyperlane","hyperlanes":[[2,5]],"wormhole":null,"planets":[]},"84B":{"type":"hyperlane","hyperlanes":[[0,3],[0,4],[1,3]],"wormhole":null,"planets":[]},"85A":{"type":"hyperlane","hyperlanes":[[1,5]],"wormhole":null,"planets":[]},"85B":{"type":"hyperlane","hyperlanes":[[0,3],[0,2],[3,5]],"wormhole":null,"planets":[]},"86A":{"type":"hyperlane","hyperlanes":[[1,5]],"wormhole":null,"planets":[]},"86B":{"type":"hyperlane","hyperlanes":[[0,3],[0,4],[1,3]],"wormhole":null,"planets":[]},"87A":{"type":"hyperlane","hyperlanes":[[0,2],[2,4],[2,5]],"wormhole":null,"planets":[]},"87B":{"type":"hyperlane","hyperlanes":[[0,2],[0,3]],"wormhole":null,"planets":[]},"88A":{"type":"hyperlane","hyperlanes":[[0,4],[1,4],[2,4]],"wormhole":null,"planets":[]},"88B":{"type":"hyperlane","hyperlanes":[[0,3],[0,2],[3,5]],"wormhole":null,"planets":[]},"89A":{"type":"hyperlane","hyperlanes":[[0,2],[0,4],[2,4]],"wormhole":null,"planets":[]},"89B":{"type":"hyperlane","hyperlanes":[[0,3],[0,4]],"wormhole":null,"planets":[]},"90A":{"type":"hyperlane","hyperlanes":[[1,5],[2,4]],"wormhole":null,"planets":[]},"90B":{"type":"hyperlane","hyperlanes":[[0,3],[0,4]],"wormhole":null,"planets":[]},"91A":{"type":"hyperlane","hyperlanes":[[0,3],[0,4],[1,3]],"wormhole":null,"planets":[]},"91B":{"type":"hyperlane","hyperlanes":[[0,2],[0,3]],"wormhole":null,"planets":[]}}}')},42:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var s=a(1),l=a.n(s),i=a(16),r=a.n(i),n=(a(36),a(37),a(7)),o=a(5),c=a(8),u=a(9),h=a(3),p=a(10),d=a(11),m=a(6),b=a.n(m),y=(a(38),a(0)),g=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{id:"bootstrapScripts",children:[Object(y.jsx)("script",{src:"https://code.jquery.com/jquery-3.3.1.min.js",integrity:"sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=",crossOrigin:"anonymous"}),Object(y.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js",integrity:"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1",crossOrigin:"anonymous"}),Object(y.jsx)("script",{src:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js",integrity:"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM",crossOrigin:"anonymous"})]})}}]),a}(l.a.Component),f=g,j=a(15),v=a(4),O=a.p+"static/media/influence.d1f8e76f.png",x=a.p+"static/media/planet.7203e647.png",w=a.p+"static/media/resource.4e66e6d4.png",k=a.p+"static/media/specialty-biotic.683b8aa5.png",T=a.p+"static/media/specialty-warfare.222674a3.png",S=a.p+"static/media/specialty-propulsion.767d15a0.png",N=a.p+"static/media/specialty-cybernetic.16601911.png",P=a.p+"static/media/trait-cultural.800b2f56.png",C=a.p+"static/media/trait-hazardous.64956721.png",M=a.p+"static/media/trait-industrial.37a31434.png",R=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getAdjacent=s.getAdjacent.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"getAdjacent",value:function(e){for(var t=Object(o.a)(j[e]),a=Object(o.a)(j[e]),s=0,l=0,i=0,r={biotic:0,warfare:0,propulsion:0,cybernetic:0},c={cultural:0,industrial:0,hazardous:0};a.length>0;){var u=a.splice(0,1)[0],h=this.props.tiles[u];if(v.hyperlanes.indexOf(this.props.getTileNumber(h))>=0){var p,d=Object(o.a)(j[u]),m=d.indexOf(Number(e)),b=v.all[this.props.getTileNumber(h)].hyperlanes,y=Number(h.split("-")[1]),g=Object(n.a)(b);try{for(g.s();!(p=g.n()).done;){var f=p.value,O=(f[0]+y)%6,x=(f[1]+y)%6,w=d[O],k=d[x];O===m&&t.indexOf(k)<0?a.push(k):x===m&&t.indexOf(w)<0&&a.push(w)}}catch(N){g.e(N)}finally{g.f()}}if(h>0)for(var T in v.all[h].planets){var S=v.all[h].planets[T];s+=1,l+=S.resources,i+=S.influence,r[S.specialty]+=1,c[S.trait]+=1}}return{planets:s,resources:l,influence:i,specialties:r,traits:c}}},{key:"render",value:function(){var e=this,t=[],a=function(){if(e.props.tiles[s]>=0&&e.props.tiles[s]<18||e.props.tiles[s]>=51&&e.props.tiles[s]<59){var a=e.getAdjacent(s),l=e.props.currentPlayerNames[t.length];""===l&&(l="P"+(t.length+1)),t.push(Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"row",children:l}),Object(y.jsx)("td",{children:a.resources}),Object(y.jsx)("td",{children:a.influence}),Object(y.jsx)("td",{children:Object(y.jsxs)("span",{className:"d-flex",children:[Object(o.a)(Array(a.traits.cultural)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:P,alt:"C"},l+"-cultural-"+t)})),Object(o.a)(Array(a.traits.hazardous)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:C,alt:"H"},l+"-hazardous-"+t)})),Object(o.a)(Array(a.traits.industrial)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:M,alt:"I"},l+"-industrial-"+t)}))]})}),Object(y.jsx)("td",{children:Object(y.jsxs)("span",{className:"d-flex",children:[Object(o.a)(Array(a.specialties.biotic)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:k,alt:"B"},l+"-biotic-"+t)})),Object(o.a)(Array(a.specialties.warfare)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:T,alt:"W"},l+"-warfare-"+t)})),Object(o.a)(Array(a.specialties.propulsion)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:S,alt:"P"},l+"-propulsion-"+t)})),Object(o.a)(Array(a.specialties.cybernetic)).map((function(e,t){return Object(y.jsx)("img",{className:"icon",src:N,alt:"C"},l+"-cybernetic-"+t)}))]})})]},"more-info-"+l))}};for(var s in this.props.tiles)a();return Object(y.jsxs)("div",{id:"moreInfoContainer",className:this.props.visible?"":"d-none",children:[Object(y.jsx)("div",{className:"title",children:Object(y.jsx)("h4",{id:"infoTitle",className:"text-center",children:"Assets Adjacent to Home System"})}),Object(y.jsx)("div",{id:"moreInfo",className:"",children:Object(y.jsxs)("table",{className:"table",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{scope:"col"}),Object(y.jsx)("th",{scope:"col",children:Object(y.jsx)("img",{className:"icon",src:w,alt:"Res."})}),Object(y.jsx)("th",{scope:"col",children:Object(y.jsx)("img",{className:"icon",src:O,alt:"Inf."})}),Object(y.jsx)("th",{scope:"col",children:Object(y.jsx)("img",{className:"icon",src:x,alt:"Planets"})}),Object(y.jsx)("th",{scope:"col",children:Object(y.jsx)("img",{className:"icon",src:T,alt:"Tech"})})]})}),Object(y.jsx)("tbody",{children:t})]})})]})}}]),a}(l.a.Component),A=a(25),B=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).underlayStyle={width:"210px",height:"185px",position:"absolute",top:"0",left:"0"},s.tileStyle={width:"200px",height:"175px",display:"none",margin:"5px",position:"relative"},s.overlayStyle={height:"175px",marginLeft:"92px",top:"85px",display:"none"},s}return Object(u.a)(a,[{key:"render",value:function(){var e=[];function t(e){if("number"==typeof e)return[e,""];var t=e.match(/(\d+)(.*)/),a=Object(A.a)(t,3);return[a[1],a[2]]}e=e.concat(v.blue).concat(v.red),(this.props.useProphecyOfKings||this.props.showAllExtraTiles||this.props.customMapBuilding)&&(e=e.concat(v.pokBlue).concat(v.pokRed)),this.props.customMapBuilding&&(e=[-1].concat(e.concat(v.hyperlanes))),e.sort((function(e,a){var s=t(e),l=Object(A.a)(s,2),i=l[0],r=l[1],n=t(a),o=Object(A.a)(n,2),c=o[0],u=o[1];return i===c?r<u?-1:r===u?0:1:i-c}));var a,s=[],l=Object(n.a)(e);try{for(l.s();!(a=l.n()).done;){var i=a.value;isNaN(Number(i))&&void 0!==i&&(i=i.split("-")[0]),s.push(Object(y.jsxs)("div",{className:"tile-wrapper",children:[Object(y.jsx)("span",{id:"extra-number-"+i,className:"overlay"+(this.props.overlayVisible?"":" d-none"),style:this.overlayStyle,children:-1===i?"Empty":i}),Object(y.jsx)("img",{id:"extra-"+i,width:"200px",height:"175px",className:"tile",src:window.location.origin+window.location.pathname+"/tiles/ST_"+i+".png",draggable:"true",onDragStart:this.props.drag,onDrop:this.props.drop,onDragOver:this.props.allowDrop,onDragEnter:this.props.dragEnter,onDragLeave:this.props.dragLeave,alt:"",style:this.tileStyle}),Object(y.jsx)("svg",{id:"extra-underlay-"+i,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 359.35 311.21",className:"underlay",fill:"currentColor",style:this.underlayStyle,children:Object(y.jsx)("polygon",{points:"269.51 0 89.84 0 0 155.6 89.84 311.2 269.51 311.2 359.35 155.6 269.51 0"})})]},"extra-tile-wrapper-"+i))}}catch(r){l.e(r)}finally{l.f()}return Object(y.jsxs)("div",{id:"extraTilesContainer",className:this.props.visible?"":"d-none",children:[Object(y.jsx)("div",{className:"title",children:Object(y.jsx)("h4",{id:"extraTitle",className:"text-center",children:"Extra Tiles"})}),Object(y.jsxs)("div",{className:"custom-control custom-checkbox mt-3 ml-3 mr-3 text-center",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"showAllExtraTiles",name:"showAllExtraTiles",checked:this.props.showAllExtraTiles,onChange:this.props.toggleShowAllExtraTiles}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"showAllExtraTiles",children:"Show All Tiles"})]}),Object(y.jsxs)("div",{className:"custom-control custom-checkbox mt-3 ml-3 mr-3 text-center",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"customMapBuilding",name:"customMapBuilding",checked:this.props.customMapBuilding,onChange:this.props.toggleCustomMapBuilding}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"customMapBuilding",children:"Custom Map Building"})]}),Object(y.jsx)("div",{className:"mt-3 ml-3 mr-3 text-center "+(this.props.customMapBuilding?"":"d-none"),children:Object(y.jsx)("button",{className:"btn btn-primary",id:"unsetAllTilesButton",onClick:this.props.unsetAllTiles,children:"Unset All Tiles"})}),Object(y.jsx)("div",{id:"extraTiles",className:"",children:s})]})}}]),a}(l.a.Component),H=a(53),_=a(54),E=a(55),I=a(56),z=a(57),W=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{id:"overview",className:"flex-column justify-content-center"+(this.props.visible?" d-flex":" d-none"),children:[Object(y.jsx)("div",{className:"title",children:Object(y.jsx)("h1",{children:"TI4 Map Generator"})}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Customize Your Next Twilight Imperium 4 Map!"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsx)("p",{className:"text-left p-3",children:'Use this tool to generate a fresh new Twilight Imperium map for the next game you play. The goal of this tool is to cut down the game setup time by letting you generate a fair and balanced map before you play, so that you are not spending a half-hour picking and placing tiles, or getting a bad draw of tiles. Get started by customizing settings via the generation panel on the right, and hit "Generate" to see a new map.'})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Individual Tile Controls"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("p",{className:"text-left p-3",children:["Modify individual tiles by clicking on them to pull up the tile control menu. Lock the tile in place with the (",Object(y.jsx)(H.a,{className:"icon d-inline"}),") button. Include it in all future generations with the (",Object(y.jsx)(_.a,{className:"icon d-inline"}),") button. Exclude it from all future generations with the (",Object(y.jsx)(E.a,{className:"icon d-inline"}),") button. Finally, swap it with a tile not on the board with the (",Object(y.jsx)(I.a,{className:"icon d-inline"}),") button. Controls reset on page refresh."]})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Drag and Drop for Further Customization"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("p",{className:"text-left p-3",children:['Unhappy with a wormhole next to a home world? Are two asteroids next to one another? Don\'t like a certain system? Just swap it with another tile by clicking and dragging one tile over the top of another tile. Alternatively, use the tile controls (click on a tile once to see them) and click the bottom middle "Swap with an extra tile" button (',Object(y.jsx)(I.a,{className:"icon d-inline"}),") to swap with a tile not on the board."]})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"New Prophecy of Kings Expansion Content"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsx)("p",{className:"text-left p-3",children:"The new expansion content for TI4, called Prophecy of Kings, was recently released. Check out the new tiles as well as the 7 and 8 player maps. Hyperlanes which connect systems together were also added, and are included on some non expansion board styles."})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Share With Your Friends"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("p",{className:"text-left p-3",children:['After you have made your custom map, click on the "Share This Map" button (',Object(y.jsx)(z.a,{className:"icon d-inline"}),") to find out how to send it to your friends! You can share the url as a link, copy the Table Top Simulator string to use in the TI4 mod, or simply download an image of the map to post. If you toggle the tile overlay on, you can have the tile numbers appear in your downloaded image."]})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Use Any Tile You Want"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("p",{className:"text-left p-3",children:['Do you really like the gravity rift anomaly and not see it on the board? Click the "Show unused tiles" button (',Object(y.jsx)("svg",{id:"showExtraTilesSvg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 359.35 311.21",className:"icon d-inline",fill:"currentColor",children:Object(y.jsx)("polygon",{id:"showExtraTilesPoly",points:"269.51 0 89.84 0 0 155.6 89.84 311.2 269.51 311.2 359.35 155.6 269.51 0"})}),") to see any tiles not currently being used in the map, and drag and drop them to add them!"]})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Easy Setup On Game Day"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("p",{className:"text-left p-3",children:['It can be hard to know which tile is which when it is time to setup your new board. Click the "Toggle Tile Number Overlay" button (',Object(y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 194.78 169.62",className:"icon d-inline",fill:"currentColor",children:[Object(y.jsx)("polygon",{className:"overlay-cls-1",points:"148.03 4 51.81 4 4.61 86.92 52.02 169.84 148.03 169.84 195.03 86.92 148.03 4"}),Object(y.jsx)("text",{className:"overlay-cls-2",transform:"translate(27.09 132.03)",children:"18"})]}),") to see the numbers of every tile on your custom board."]})})]}),Object(y.jsxs)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:[Object(y.jsx)("h4",{className:"m-3",children:"Have Any Ideas On Improvements?"}),Object(y.jsx)("div",{className:"d-flex",children:Object(y.jsxs)("p",{className:"text-left p-3",children:["I am always open to feedback and suggestions! You can see the ",Object(y.jsx)("a",{href:"https://github.com/KeeganW/ti4/issues",children:"current set of issues"})," with the generator, or if you don't see your issue or want to suggest a new feature, add it ",Object(y.jsx)("a",{href:"https://github.com/KeeganW/ti4/issues/new",children:"to my issue tracker"}),". Thanks for checking this out!"]})})]}),Object(y.jsx)("div",{className:"overview-panel mb-4 mt-4 ml-auto mr-auto",children:"\xa9 Keegan Williams 2021"})]})}}]),a}(l.a.Component),V=W,F=(a(42),a(12)),L=a(58),D=a(59),K=a(23),G=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).toggleControls=s.toggleControls.bind(Object(h.a)(s)),s.getRotationDegrees=s.getRotationDegrees.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){K.a.rebuild()}},{key:"toggleControls",value:function(e){var t=e.target.id.split("-"),a=t[0],s=Number(t[t.length-1]),l=this.props.getTileNumber(this.props.tiles[s]);if("tile"===a){var i=-1;this.props.tileClicked!==s&&-1!==l&&0!==l&&(i=s),this.props.updateTileClicked(i)}else if("rotate"===a){var r=t[1],n=b()("#tile-"+s),c=this.getRotationDegrees(n);"left"===r?c-=60:"right"===r&&(c+=60),c<0&&(c+=360);var u=c/60%6,h=Object(o.a)(this.props.tiles);h[s]=this.props.getTileNumber(h[s])+"-"+u,this.props.updateTiles(h),n.css({transform:"rotate("+c+"deg)"})}else if("swap"===a){if(this.props.unusedTiles.length>0){var p=this.props.unusedTiles[Math.floor(Math.random()*this.props.unusedTiles.length)],d=Object(o.a)(this.props.tiles);d[s]=p,this.props.updateTiles(d)}}else if("lock"===a){var m=this.props.lockedTiles.indexOf(l),y=this.props.lockedTiles;m>=0?y.splice(m,1):y.push(l),this.props.updateLockedTiles(y)}else if("exclude"===a){var g=this.props.excludedTiles.indexOf(l),f=this.props.excludedTiles,j=this.props.includedTiles;if(g>=0)f.splice(g,1);else{f.push(l);var v=this.props.includedTiles.indexOf(l);v>=0&&j.splice(v,1)}this.props.updateInExcludedTiles(j,f)}else if("include"===a){var O=this.props.includedTiles.indexOf(l),x=this.props.includedTiles,w=this.props.excludedTiles;if(O>=0)x.splice(O,1);else{x.push(l);var k=this.props.excludedTiles.indexOf(l);k>=0&&w.splice(k,1)}this.props.updateInExcludedTiles(x,w)}}},{key:"getRotationDegrees",value:function(e){var t=e.css("-webkit-transform")||e.css("-moz-transform")||e.css("-ms-transform")||e.css("-o-transform")||e.css("transform"),a=0;if("none"!==t){var s=t.split("(")[1].split(")")[0].split(","),l=s[0],i=s[1];a=Math.round(Math.atan2(i,l)*(180/Math.PI))}return a<0&&(a+=360),a}},{key:"render",value:function(){for(var e=[],t={position:"absolute"},a={display:"none"},s=0;s<F.pokSize;s++){var l=this.props.getTileNumber(this.props.tiles[s]);void 0!==l&&e.push(Object(y.jsxs)("div",{id:"tile-wrapper-"+s,className:"tile-wrapper",style:t,onClick:this.toggleControls,children:[Object(y.jsx)("button",{id:"rotate-left-"+s,className:"btn btn-primary tile-control rotate-left"+(this.props.tileClicked===s?"":" d-none"),"data-tip":"Rotate tile left","data-place":"top",children:Object(y.jsx)(L.a,{id:"rotate-left-svg-"+s,className:"icon"})}),Object(y.jsx)("button",{id:"lock-"+s,className:"btn btn-primary tile-control lock"+(this.props.tileClicked===s?"":" d-none")+(this.props.lockedTiles.indexOf(l)>=0?" active":""),"data-tip":"Keep tile here on generation",children:Object(y.jsx)(H.a,{id:"lock-svg-"+s,className:"icon"})}),Object(y.jsx)("button",{id:"rotate-right-"+s,className:"btn btn-primary tile-control rotate-right"+(this.props.tileClicked===s?"":" d-none"),"data-tip":"Rotate tile right",children:Object(y.jsx)(D.a,{id:"rotate-right-svg-"+s,className:"icon"})}),Object(y.jsx)("span",{id:"number-"+s,className:"overlay",style:a,children:s}),Object(y.jsx)("img",{id:"tile-"+s,className:"tile",src:window.location.origin+window.location.pathname+"/tiles/ST_"+l+".png",draggable:"true",onDragStart:this.props.drag,onDrop:this.props.drop,onDragOver:this.props.allowDrop,onDragEnter:this.props.dragEnter,onDragLeave:this.props.dragLeave,onTouchMove:this.props.touchMove,onTouchEnd:this.props.touchEnd,alt:"Twilight Imperium 4 Tile Number "+s+" and System Number "+l+"."}),Object(y.jsx)("svg",{id:"underlay-"+s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 359.35 311.21",className:"underlay",fill:"currentColor",children:Object(y.jsx)("polygon",{points:"269.51 0 89.84 0 0 155.6 89.84 311.2 269.51 311.2 359.35 155.6 269.51 0"})}),Object(y.jsx)("button",{id:"exclude-"+s,className:"btn btn-primary tile-control exclude"+(this.props.tileClicked===s?"":" d-none")+(this.props.excludedTiles.indexOf(l)>=0?" active":""),"data-tip":"Exclude from generation","data-place":"bottom",children:Object(y.jsx)(E.a,{id:"exclude-svg-"+s,className:"icon"})}),Object(y.jsx)("button",{id:"swap-"+s,className:"btn btn-primary tile-control swap"+(this.props.tileClicked===s?"":" d-none"),"data-tip":"Swap with an extra tile","data-place":"bottom",children:Object(y.jsx)(I.a,{id:"swap-svg-"+s,className:"icon"})}),Object(y.jsx)("button",{id:"include-"+s,className:"btn btn-primary tile-control include"+(this.props.tileClicked===s?"":" d-none")+(this.props.includedTiles.indexOf(l)>=0?" active":""),"data-tip":"Always include in generation","data-place":"bottom",children:Object(y.jsx)(_.a,{id:"include-svg-"+s,className:"icon"})})]},"tile-wrapper-"+s))}return Object(y.jsx)("div",{id:"map",className:"map center-map "+(this.props.visible?"":"d-none"),children:e})}}]),a}(l.a.Component),U=a(60),Y=a(61),J=a(62),$=a(63),X=a(64),q=a(28),Q=a(30),Z=a(13),ee=a(27),te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).getTTSTileString=s.getTTSTileString.bind(Object(h.a)(s)),s.copyTileStringToClipboard=s.copyTileStringToClipboard.bind(Object(h.a)(s)),s.copyLinkToClipboard=s.copyLinkToClipboard.bind(Object(h.a)(s)),s.removeTrailing=s.removeTrailing.bind(Object(h.a)(s)),s.sleep=s.sleep.bind(Object(h.a)(s)),s.downloadImage=s.downloadImage.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"getTTSTileString",value:function(){var e=Object(o.a)(this.props.tiles);return(e=this.removeTrailing(e)).shift(),e=(e=(e=(e=(e=e.toString()).replaceAll(",-1",",0")).replaceAll(","," ")).replaceAll(/(\d+)-\d/gm,"$1")).replaceAll("-","")}},{key:"copyTileStringToClipboard",value:function(){var e=this.getTTSTileString();console.log("Here is the tile string for use with this mod: https://steamcommunity.com/sharedfiles/filedetails/?id=1288687076"),console.log(e),navigator.clipboard.writeText(e)}},{key:"copyLinkToClipboard",value:function(){navigator.clipboard.writeText(window.location.href)}},{key:"removeTrailing",value:function(e){for(;-1===e[e.length-1];)e.pop();return e}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"downloadImage",value:function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b()("#downloadMapButton").addClass("active"),window.scrollTo(0,0),e.next=4,Object(ee.exportComponentAsPNG)(this.props.map,{fileName:"ti4-map",html2CanvasOptions:{backgroundColor:null,scrollX:0,scrollY:-window.pageYOffset,scale:1.5}});case 4:return e.next=6,this.sleep(750);case 6:b()("#downloadMapButton").removeClass("active");case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getTTSTileString();return Object(y.jsxs)(Z.a,{show:this.props.visible,onHide:this.props.hideModal,children:[Object(y.jsx)(Z.a.Header,{closeButton:!0,children:Object(y.jsx)(Z.a.Title,{children:"Share Map"})}),Object(y.jsxs)(Z.a.Body,{children:[Object(y.jsxs)("div",{className:"input-group mb-3",children:[Object(y.jsx)("input",{type:"text",className:"form-control",value:window.location.href,readOnly:!0,"aria-label":"Page Link","aria-describedby":"basic-addon2"}),Object(y.jsx)("div",{className:"input-group-append",children:Object(y.jsx)("button",{className:"btn btn-primary",type:"button",onClick:this.copyLinkToClipboard,children:"Copy Link"})})]}),Object(y.jsxs)("div",{className:"input-group mb-3",children:[Object(y.jsx)("input",{type:"text",className:"form-control",value:e,readOnly:!0,"aria-label":"Tile String","aria-describedby":"basic-addon2"}),Object(y.jsx)("div",{className:"input-group-append",children:Object(y.jsx)("button",{className:"btn btn-primary",type:"button",onClick:this.copyTileStringToClipboard,children:"Copy TTS String"})})]}),Object(y.jsx)("div",{className:"input-group mb-3 justify-content-center",children:Object(y.jsx)("button",{id:"downloadMapButton",className:"btn btn-primary",type:"button",onClick:this.downloadImage,children:"Download Map Image"})})]})]})}}]),a}(l.a.Component),ae=te,se=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={currentInputTiles:""},s.updateInputTiles=s.updateInputTiles.bind(Object(h.a)(s)),s.loadTiles=s.loadTiles.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"parseTTSTileString",value:function(){var e=this,t=this.props.removeTrailing(this.state.currentInputTiles);(t=(t=t.toString()).split(" ")).unshift("18"),this.setState({currentInputTiles:""},(function(){e.props.updateTiles(t,void 0,!0),e.props.hideModal()}))}},{key:"updateInputTiles",value:function(e){(e.target.value||""===e.target.value)&&this.setState({currentInputTiles:e.target.value})}},{key:"loadTiles",value:function(e){void 0===e&&void 0!==this.state.currentInputTiles&&""!==this.state.currentInputTiles||e.preventDefault(),this.parseTTSTileString()}},{key:"render",value:function(){return Object(y.jsxs)(Z.a,{show:this.props.visible,onHide:this.props.hideModal,children:[Object(y.jsx)(Z.a.Header,{closeButton:!0,children:Object(y.jsx)(Z.a.Title,{children:"Load Map"})}),Object(y.jsx)(Z.a.Body,{children:Object(y.jsx)("form",{id:"generateForm",onSubmit:this.loadTiles,children:Object(y.jsxs)("div",{className:"input-group mb-3",children:[Object(y.jsx)("input",{type:"text",className:"form-control",id:"inputMapString",name:"userInputTiles",placeholder:"Enter a tile string (eg. 79 60 50 31...)","aria-label":"Map String","aria-describedby":"basic-addon2",value:this.state.currentInputTiles,onChange:this.updateInputTiles}),Object(y.jsx)("div",{className:"input-group-append",children:Object(y.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Load Map"})})]})})})]})}}]),a}(l.a.Component),le=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={shareMapHelp:!1,loadMapHelp:!1},s.toggleShareMapHelp=s.toggleShareMapHelp.bind(Object(h.a)(s)),s.toggleLoadMapHelp=s.toggleLoadMapHelp.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"toggleShareMapHelp",value:function(e){this.setState({shareMapHelp:!this.state.shareMapHelp})}},{key:"toggleLoadMapHelp",value:function(e){this.setState({loadMapHelp:!this.state.loadMapHelp})}},{key:"render",value:function(){return Object(y.jsxs)("div",{id:"map-controls",children:[Object(y.jsxs)("div",{id:"zoomButtons",className:"btn-group-justified btn-group-sm btn-group-vertical"+(this.props.visible?"":" d-none"),children:[Object(y.jsx)("button",{className:"btn btn-primary",id:"zoomPlus",onClick:this.props.zoomPlus,"data-tip":"Or Hold CTRL and Use Scroll Wheel","data-place":"left",children:Object(y.jsx)(U.a,{className:"icon"})}),Object(y.jsx)("button",{className:"btn btn-primary",id:"zoomMinus",onClick:this.props.zoomMinus,children:Object(y.jsx)(Y.a,{className:"icon"})})]}),Object(y.jsx)("div",{id:"hexOverlay",className:"btn-group-justified btn-group-sm"+(this.props.visible?"":" d-none"),onClick:this.props.toggleOverlay,children:Object(y.jsx)("button",{className:"btn btn-primary"+(this.props.overlayVisible?" active":""),id:"showHexOverlay","data-tip":"Tile Number Overlay","data-place":"left",children:Object(y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 194.78 169.62",className:"icon",fill:"currentColor",children:[Object(y.jsx)("polygon",{className:"overlay-cls-1",points:"148.03 4 51.81 4 4.61 86.92 52.02 169.84 148.03 169.84 195.03 86.92 148.03 4"}),Object(y.jsx)("text",{className:"overlay-cls-2",transform:"translate(27.09 132.03)",children:"18"})]})})}),Object(y.jsx)("div",{id:"extraTilesButton",className:"btn-group-justified btn-group-sm"+(this.props.visible?"":" d-none"),onClick:this.props.toggleExtraTiles,children:Object(y.jsx)("button",{className:"btn btn-primary"+(this.props.extraTilesVisible?" active":""),id:"showExtraTiles","data-tip":"Unused Tiles","data-place":"left",children:Object(y.jsx)("svg",{id:"showExtraTilesSvg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 359.35 311.21",className:"icon",fill:"currentColor",children:Object(y.jsx)("polygon",{id:"showExtraTilesPoly",points:"269.51 0 89.84 0 0 155.6 89.84 311.2 269.51 311.2 359.35 155.6 269.51 0"})})})}),Object(y.jsx)("div",{id:"moreInfoButton",className:"btn-group-justified btn-group-sm"+(this.props.visible?"":" d-none"),onClick:this.props.toggleMoreInfo,children:Object(y.jsx)("button",{className:"btn btn-primary"+(this.props.moreInfoVisible?" active":""),id:"showMoreInfo","data-tip":"Assets Adjacent to Home","data-place":"left",children:Object(y.jsx)(J.a,{id:"showMoreInfoSvg",className:"icon"})})}),Object(y.jsx)("div",{id:"shareMapButton",className:"btn-group-justified btn-group-sm"+(this.props.visible?"":" d-none"),onClick:this.toggleShareMapHelp,children:Object(y.jsx)("button",{className:"btn btn-primary",id:"shareMapInfo","data-tip":"Share This Map","data-place":"left",children:Object(y.jsx)(z.a,{id:"shareMapSvg",className:"icon"})})}),Object(y.jsx)("div",{id:"loadMapButton",className:"btn-group-justified btn-group-sm"+(this.props.visible?"":" d-none"),onClick:this.toggleLoadMapHelp,children:Object(y.jsx)("button",{className:"btn btn-primary",id:"loadMapInfo","data-tip":"Load a Map","data-place":"left",children:Object(y.jsx)($.a,{id:"loadMapSvg",className:"icon"})})}),Object(y.jsx)(ae,{visible:this.state.shareMapHelp,hideModal:this.toggleShareMapHelp,tiles:this.props.tiles,map:this.props.map}),Object(y.jsx)(se,{visible:this.state.loadMapHelp,hideModal:this.toggleLoadMapHelp,tiles:this.props.tiles,updateTiles:this.props.updateTiles,removeTrailing:this.props.removeTrailing}),Object(y.jsx)("div",{id:"toggleBackgroundButton",className:"btn-group-justified btn-group-sm",onClick:this.props.toggleBackground,children:Object(y.jsx)("button",{className:"btn btn-primary",id:"toggleBackground","data-tip":"Toggle Background Animation",children:Object(y.jsx)(X.a,{id:"toggleBackgroundSvg",className:"icon"})})})]})}}]),a}(l.a.Component),ie=a(65),re=a(66),ne=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(y.jsx)("div",{className:"controls btn-group-justified btn-group-sm",children:Object(y.jsxs)("button",{type:"button",id:"toggleOptions",className:"btn btn-primary"+(this.props.visible?"":" hidden")+(this.props.isMobileView?" full-screen":""),onClick:this.props.toggleOptions,children:[Object(y.jsx)(ie.a,{className:"icon icon-contract"}),Object(y.jsx)(re.a,{className:"icon icon-expand"})]})})}}]),a}(l.a.Component),oe=ne,ce=a(31),ue=a(67),he=a(18),pe=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(y.jsxs)(Z.a,{show:this.props.visible,onHide:this.props.hideModal,children:[Object(y.jsx)(Z.a.Header,{closeButton:!0,children:Object(y.jsx)(Z.a.Title,{children:this.props.title})}),Object(y.jsx)(Z.a.Body,{children:Object(y.jsx)("div",{dangerouslySetInnerHTML:{__html:this.props.content}})})]})}}]),a}(l.a.Component),de=pe,me=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(y.jsxs)(Z.a,{show:this.props.visible,onHide:this.props.hideModal,children:[Object(y.jsx)(Z.a.Header,{closeButton:!0,children:Object(y.jsx)(Z.a.Title,{children:"Set Player Names"})}),Object(y.jsx)(Z.a.Body,{children:Object(y.jsx)("form",{id:"playerNameForm",children:this.props.currentPlayerNames.map((function(t,a){return Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("label",{htmlFor:"player"+(a+1)+"Name",children:["Player ",a+1]}),Object(y.jsx)("input",{className:"form-control",name:"playerName"+a,type:"text",placeholder:"P"+(a+1),defaultValue:t,onChange:e.props.handleNameChange})]},"set-names-"+a)}))})})]})}}]),a}(l.a.Component),be=me,ye=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={searchString:""},s.updateSearchString=s.updateSearchString.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"updateSearchString",value:function(e){this.setState({searchString:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props.races;this.props.useProphecyOfKings&&(t=t.concat(this.props.pokRaces));return Object(y.jsxs)(Z.a,{show:this.props.visible,onHide:this.props.hideModal,children:[Object(y.jsx)(Z.a.Header,{closeButton:!0,children:Object(y.jsx)(Z.a.Title,{children:"Set Races"})}),Object(y.jsxs)("div",{style:{"border-bottom":"1px solid #dee2e6"},children:[Object(y.jsx)("button",{type:"button",name:"all",className:"btn btn-outline-primary m-2 ml-3",onClick:this.props.handleRacesChange,children:"Select All"}),Object(y.jsx)("button",{type:"button",name:"none",className:"btn btn-outline-primary m-2",onClick:this.props.handleRacesChange,children:"Deselect All"})]}),Object(y.jsx)(Z.a.Body,{children:Object(y.jsxs)("form",{id:"includedRacesForm",children:[Object(y.jsx)("div",{className:"form-group",children:Object(y.jsx)("input",{className:"form-control",id:"filterRaces",type:"text",placeholder:"Filter Races...",value:this.state.searchString,onChange:this.updateSearchString})}),t.map((function(t,a){var s=t.toLowerCase().includes(e.state.searchString);return Object(y.jsxs)("div",{className:"custom-control custom-checkbox mb-3 races"+(s?"":" d-none"),children:[Object(y.jsx)("input",{className:"custom-control-input",name:t,type:"checkbox",id:"include"+t.replace(" ",""),checked:e.props.currentRaces.indexOf(t)>-1,onChange:e.props.handleRacesChange}),Object(y.jsx)("label",{className:"custom-control-label d-flex",htmlFor:"include"+t.replace(" ",""),children:t})]},"set-races-"+a)}))]})})]})}}]),a}(l.a.Component),ge=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),s=t.call(this,e);var l={numberOfPlayers:[2,3,4,5,6],pokNumberOfPlayers:[7,8],boardStyles:{2:Object.keys(F.styles[2]).map((function(e){return e})),3:Object.keys(F.styles[3]).map((function(e){return e})),4:Object.keys(F.styles[4]).map((function(e){return e})),5:Object.keys(F.styles[5]).map((function(e){return e})),6:Object.keys(F.styles[6]).map((function(e){return"large"===e?null:e})).filter((function(e){return e}))},boardStylesPok:{2:Object.keys(F.styles[2]).map((function(e){return e})),3:Object.keys(F.styles[3]).map((function(e){return e})),4:Object.keys(F.styles[4]).map((function(e){return e})),5:Object.keys(F.styles[5]).map((function(e){return e})),6:Object.keys(F.styles[6]).map((function(e){return e})),7:Object.keys(F.styles[7]).map((function(e){return e})),8:Object.keys(F.styles[8]).map((function(e){return e}))},pickStyles:["balanced","random","resource","influence","custom"],placementStyles:["slice","initial","home","random"],races:Object(o.a)(he.races),pokRaces:Object(o.a)(he.pokRaces),homeworlds:he.homeSystems,pokHomeworlds:he.pokHomeSystems};return s.state={optionsPossible:l,currentNumberOfPlayers:6,currentNumberOfPlayersOptions:l.numberOfPlayers,currentBoardStyleOptions:l.boardStyles[6],currentBoardStyle:l.boardStyles[6][0],currentPickStyle:l.pickStyles[0],currentPlacementStyle:l.placementStyles[0],currentSeed:"",userSetSeed:!1,pickRaces:!1,pickMultipleRaces:!1,shuffleBoards:!1,reversePlacementOrder:!1,ensureRacialAnomalies:!0,generated:!1,pickRacesHelp:!1,boardStyleHelp:!1,pickStyleHelp:!1,placementStyleHelp:!1,setPlayerNamesHelp:!1,setRacesHelp:!1,pickMultipleRacesHelp:!1,shufflePriorityHelp:!1,reversePlacementOrderHelp:!1,ensureRacialAnomaliesHelp:!1,resourceWeight:70,influenceWeight:30,planetCountWeight:15,specialtyWeight:50,anomalyWeight:10,wormholeWeight:25,shuffleThreshold:5},s.handleInputChange=s.handleInputChange.bind(Object(h.a)(s)),s.handleNameChange=s.handleNameChange.bind(Object(h.a)(s)),s.handleRacesChange=s.handleRacesChange.bind(Object(h.a)(s)),s.updatePok=s.updatePok.bind(Object(h.a)(s)),s.updatePlayerCount=s.updatePlayerCount.bind(Object(h.a)(s)),s.updateBoardStyle=s.updateBoardStyle.bind(Object(h.a)(s)),s.updateSeed=s.updateSeed.bind(Object(h.a)(s)),s.ensureAnomalies=s.ensureAnomalies.bind(Object(h.a)(s)),s.ensureWormholesForType=s.ensureWormholesForType.bind(Object(h.a)(s)),s.updateBoardStyleOptions=s.updateBoardStyleOptions.bind(Object(h.a)(s)),s.encodeSettings=s.encodeSettings.bind(Object(h.a)(s)),s.decodeSettings=s.decodeSettings.bind(Object(h.a)(s)),s.generateBoard=s.generateBoard.bind(Object(h.a)(s)),s.getNewTileSet=s.getNewTileSet.bind(Object(h.a)(s)),s.togglePickRacesHelp=s.togglePickRacesHelp.bind(Object(h.a)(s)),s.toggleBoardStyleHelp=s.toggleBoardStyleHelp.bind(Object(h.a)(s)),s.togglePickStyleHelp=s.togglePickStyleHelp.bind(Object(h.a)(s)),s.togglePlacementStyleHelp=s.togglePlacementStyleHelp.bind(Object(h.a)(s)),s.toggleSetPlayerNamesHelp=s.toggleSetPlayerNamesHelp.bind(Object(h.a)(s)),s.toggleSetRacesHelp=s.toggleSetRacesHelp.bind(Object(h.a)(s)),s.togglePickMultipleRacesHelp=s.togglePickMultipleRacesHelp.bind(Object(h.a)(s)),s.toggleShufflePriorityHelp=s.toggleShufflePriorityHelp.bind(Object(h.a)(s)),s.toggleReversePlacementOrderHelp=s.toggleReversePlacementOrderHelp.bind(Object(h.a)(s)),s.toggleEnsureRacialAnomaliesHelp=s.toggleEnsureRacialAnomaliesHelp.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,s=t.name;this.setState(Object(ce.a)({},s,a))}},{key:"handleNameChange",value:function(e){var t=parseInt(e.target.name.substring(10)),a=this.props.currentPlayerNames;a[t]=e.target.value,this.setState({currentPlayerNames:a})}},{key:"handleRacesChange",value:function(e){var t=e.target.name,a=this.props.currentRaces;if("none"===t)a=[];else if("all"===t)a=this.props.useProphecyOfKings?Object(o.a)(this.state.optionsPossible.races.concat(this.state.optionsPossible.pokRaces)):Object(o.a)(this.state.optionsPossible.races);else{var s=a.indexOf(t);s>=0?a.splice(s,1):a.push(t)}this.props.updateRaces(a)}},{key:"updatePok",value:function(e){var t=this,a=this.state.optionsPossible.boardStyles;e.target.checked?(a=this.state.optionsPossible.boardStylesPok,this.setState({currentNumberOfPlayersOptions:this.state.optionsPossible.numberOfPlayers.concat(this.state.optionsPossible.pokNumberOfPlayers),currentBoardStyle:a[this.state.currentNumberOfPlayers][0],currentBoardStyleOptions:a[this.state.currentNumberOfPlayers]},(function(){t.props.updateRaces(Object(o.a)(t.state.optionsPossible.races.concat(t.state.optionsPossible.pokRaces))),t.props.toggleProphecyOfKings(e)}))):this.setState({currentNumberOfPlayers:this.state.currentNumberOfPlayers>6?6:this.state.currentNumberOfPlayers,currentNumberOfPlayersOptions:this.state.optionsPossible.numberOfPlayers,currentBoardStyle:this.state.currentNumberOfPlayers>6?a[6][0]:this.state.currentBoardStyle,currentBoardStyleOptions:this.state.currentNumberOfPlayers>6?a[6]:a[this.state.currentNumberOfPlayers]},(function(){t.props.updateRaces(Object(o.a)(t.state.optionsPossible.races)),t.props.toggleProphecyOfKings(e)}))}},{key:"updatePlayerCount",value:function(e){var t=this;this.setState({currentNumberOfPlayers:parseInt(e.target.value)},(function(){t.updateBoardStyleOptions(e)}))}},{key:"updateBoardStyle",value:function(e){var t=this;this.setState({currentBoardStyle:e.target.value},(function(){t.state.generated&&t.generateBoard(e)}))}},{key:"updateBoardStyleOptions",value:function(e){var t=this,a=this.state.optionsPossible.boardStyles;this.props.useProphecyOfKings&&(a=this.state.optionsPossible.boardStylesPok),this.setState({currentBoardStyleOptions:a[this.state.currentNumberOfPlayers],currentBoardStyle:a[this.state.currentNumberOfPlayers][0]},(function(){t.state.generated&&t.generateBoard(e)}))}},{key:"updateSeed",value:function(e){var t=parseInt(e.target.value);isNaN(t)&&""!==e.target.value||this.setState({currentSeed:e.target.value,userSetSeed:""!==e.target.value})}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"shuffle",value:function(e){for(var t,a,s=e.length,l=this.state.currentSeed.valueOf();s;)a=Math.floor(this.random(l)*s--),t=e[s],e[s]=e[a],e[a]=t,++l;return e}},{key:"random",value:function(e){var t=1e4*Math.sin(e++);return t-Math.floor(t)}},{key:"encodeSettings",value:function(){var e="";if(e+=this.props.useProphecyOfKings?"T":"F",e+=this.state.currentNumberOfPlayers.toString(),e+=this.state.currentBoardStyleOptions.indexOf(this.state.currentBoardStyle).toString(),e+=this.state.optionsPossible.placementStyles.indexOf(this.state.currentPlacementStyle).toString(),e+=this.state.optionsPossible.pickStyles.indexOf(this.state.currentPickStyle).toString(),"custom"===this.state.currentPickStyle&&(e+=this.state.resourceWeight.toString().padStart(3,"0"),e+=this.state.influenceWeight.toString().padStart(3,"0"),e+=this.state.planetCountWeight.toString().padStart(3,"0"),e+=this.state.specialtyWeight.toString().padStart(3,"0"),e+=this.state.anomalyWeight.toString().padStart(3,"0"),e+=this.state.wormholeWeight.toString().padStart(3,"0")),e+=this.state.currentSeed.toString().padStart(4,"0"),e+=this.state.shuffleBoards?"T":"F",e+=this.state.reversePlacementOrder?"T":"F",e+=this.state.pickRaces?"T":"F",this.state.pickRaces){e+=this.state.ensureRacialAnomalies?"T":"F";var t=this.state.optionsPossible.races.concat(this.state.optionsPossible.pokRaces);if(!1===this.props.useProphecyOfKings&&this.props.currentRaces.length!==this.state.optionsPossible.races.length||!0===this.props.useProphecyOfKings&&this.props.currentRaces.length!==t.length){var a,s=Object(n.a)(this.props.currentRaces);try{for(s.s();!(a=s.n()).done;){var l=a.value;t.indexOf(l)>=0&&(e+=t.indexOf(l).toString().padStart(2,"0"))}}catch(h){s.e(h)}finally{s.f()}}var i,r=!1,o="|",c=Object(n.a)(this.props.currentPlayerNames);try{for(c.s();!(i=c.n()).done;){var u=i.value;""!==u&&(r=!0),o+=u+"|"}}catch(h){c.e(h)}finally{c.f()}r&&(e=(e+=o).slice(0,-1))}return e}},{key:"decodeSettings",value:function(e,t){var a=this,s=0,l="T"===e[s];s+=1;var i=Number(e[s]);s+=1;var r=l?this.state.optionsPossible.numberOfPlayers.concat(this.state.optionsPossible.pokNumberOfPlayers):this.state.optionsPossible.numberOfPlayers,n=l?this.state.optionsPossible.boardStylesPok[i]:this.state.optionsPossible.boardStyles[i],o=n[Number(e[s])];s+=1;var c=this.state.optionsPossible.placementStyles[Number(e[s])];s+=1;var u=this.state.optionsPossible.pickStyles[Number(e[s])];s+=1;var h=this.state.resourceWeight,p=this.state.influenceWeight,d=this.state.planetCountWeight,m=this.state.specialtyWeight,b=this.state.anomalyWeight,y=this.state.wormholeWeight;"custom"===u&&(h=Number(e.substring(s,s+3)),s+=3,p=Number(e.substring(s,s+3)),s+=3,d=Number(e.substring(s,s+3)),s+=3,m=Number(e.substring(s,s+3)),s+=3,b=Number(e.substring(s,s+3)),s+=3,y=Number(e.substring(s,s+3)),s+=3);var g=Number(e.substring(s,s+4)),f="T"===e[s+=4],j="T"===e[s+=1],v="T"===e[s+=1];s+=1;var O=this.props.currentPlayerNames,x=this.props.currentRaces,w=this.props.ensureRacialAnomalies;if(v)if(w="T"===e[s],"|"!==e[s+=1])if(void 0!==e[s]){x=[];for(var k=this.state.optionsPossible.races.concat(this.state.optionsPossible.pokRaces);"|"!==e[s]&&s!==e.length;)x.push(k[Number(e.substring(s,s+2))]),s+=2}else x=l?this.state.optionsPossible.races.concat(this.state.optionsPossible.pokRaces):this.state.optionsPossible.races;else O=e.substring(s).split("|").splice(1);this.setState({currentNumberOfPlayers:i,currentNumberOfPlayersOptions:r,currentBoardStyle:o,currentBoardStyleOptions:n,currentPlacementStyle:c,currentPickStyle:u,resourceWeight:h,influenceWeight:p,planetCountWeight:d,specialtyWeight:m,anomalyWeight:b,wormholeWeight:y,currentSeed:g,shuffleBoards:f,reversePlacementOrder:j,pickRaces:v,ensureRacialAnomalies:w},(function(){a.props.updateRaces(x),a.props.updatePlayerNames(O),(l&&!a.props.useProphecyOfKings||!l&&a.props.useProphecyOfKings)&&a.props.toggleProphecyOfKings(),t.length>0?a.props.updateTiles(t,e):a.props.updateTiles(a.getNewTileSet(l,x),e,!1)}))}},{key:"generateBoard",value:function(e){var t=this;void 0!==e&&e.preventDefault();var a=this.state.currentSeed;this.state.userSetSeed||(a=Math.floor(Math.random()*Math.floor(9999))),this.setState({currentSeed:a,generated:!0},(function(){t.props.updateTiles(t.getNewTileSet(),t.encodeSettings(),!0)}))}},{key:"getNewTileSet",value:function(e,t){void 0===e&&(e=this.props.useProphecyOfKings);var a=this.getNewTilesToPlace();t=void 0===t?Object(o.a)(this.props.currentRaces):Object(o.a)(t),this.shuffle(t),t=t.slice(0,this.state.currentNumberOfPlayers);var s=this.getNewSystemsToPlace(a.length,e,t),l=Object(o.a)(F.blankMap);l[0]=18,this.placeHyperlanes(l),this.placeHomeSystems(l,t);var i,r=Object(n.a)(a);try{for(r.s();!(i=r.n()).done;){l[i.value]=s.shift()}}catch(c){r.e(c)}finally{r.f()}return this.placeLockedSystems(l),this.checkAdjacencies(l,e),l}},{key:"getNewTilesToPlace",value:function(){var e=Object(o.a)(F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].primary_tiles),t=Object(o.a)(F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].secondary_tiles),a=Object(o.a)(F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].tertiary_tiles);this.state.shuffleBoards&&(this.shuffle(e),this.shuffle(t),this.shuffle(a));var s=[];switch(this.state.currentPlacementStyle){case"random":s=this.state.reversePlacementOrder?a.concat(t).concat(e):e.concat(t).concat(a),this.shuffle(s);break;case"initial":s=this.state.reversePlacementOrder?this.shuffle(t.concat(a)).concat(e):e.concat(this.shuffle(t.concat(a)));break;case"home":s=e.concat(t).concat(a);var l,i=Object(o.a)(F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].home_worlds),r=[],c=Object(n.a)(i);try{for(c.s();!(l=c.n()).done;){var u,h=l.value,p=j[h],d=Object(n.a)(p);try{for(d.s();!(u=d.n()).done;){var m=u.value;s.indexOf(m)>=0&&(r.push(m),s.splice(s.indexOf(m),1))}}catch(b){d.e(b)}finally{d.f()}}}catch(b){c.e(b)}finally{c.f()}this.shuffle(r),s=this.state.reversePlacementOrder?s.concat(r):r.concat(s);break;default:s=this.state.reversePlacementOrder?a.concat(t).concat(e):e.concat(t).concat(a)}return s}},{key:"getNewSystemsToPlace",value:function(e,t,a){var s,l=this,i=t?Object(o.a)(v.blue.concat(v.pokBlue)):Object(o.a)(v.blue),r=t?Object(o.a)(v.red.concat(v.pokRed)):Object(o.a)(v.red),c=Object(n.a)(this.props.excludedTiles);try{for(c.s();!(s=c.n()).done;){var u=s.value;r.indexOf(u)>=0?r.splice(r.indexOf(u),1):i.indexOf(u)>=0&&i.splice(i.indexOf(u),1)}}catch(P){c.e(P)}finally{c.f()}this.shuffle(i),this.shuffle(r);var h=2,p=1,d=F.styles[this.state.currentNumberOfPlayers][this.state.currentBoardStyle];if(void 0!==d.overrideRatios)h=d.overrideRatios.blueTileRatio,p=d.overrideRatios.redTileRatio;else switch(this.state.currentNumberOfPlayers){case 3:h=3,p=1;break;case 4:h=5,p=3;break;case 6:h=3,p=2}var m,b=Math.round(Number(e/(h+p)*p)),y=Math.round(Number(e/(h+p)*h)),g=[],f=Object(n.a)(this.props.includedTiles);try{for(f.s();!(m=f.n()).done;){var j=m.value;g.indexOf(j)<0&&(g.push(j),r.indexOf(j)>=0?(r.splice(r.indexOf(j),1),b-=1):(i.splice(i.indexOf(j),1),y-=1))}}catch(P){f.e(P)}finally{f.f()}var O,x=Object(n.a)(this.props.lockedTiles);try{for(x.s();!(O=x.n()).done;){var w=O.value;g.indexOf(w)<0&&(g.push(w),r.indexOf(w)>=0?(r.splice(r.indexOf(w),1),b-=1):(i.splice(i.indexOf(w),1),y-=1))}}catch(P){x.e(P)}finally{x.f()}var k=[];this.state.ensureRacialAnomalies&&this.state.pickRaces&&a.forEach((function(e){var a=[],s=!1;("The Clan of Saar"===e?(a=t?Object(o.a)(v.asteroidFields.concat(v.pokAsteroidFields)):Object(o.a)(v.asteroidFields),s=!0):"The Embers of Muaat"===e?(a=t?Object(o.a)(v.supernovas.concat(v.pokSupernovas)):Object(o.a)(v.supernovas),s=!0):"The Empyrean"===e?(a=t?Object(o.a)(v.nebulae.concat(v.pokNebulae)):Object(o.a)(v.nebulae),s=!0):"The Vuil'Raith Cabal"===e&&(a=t?Object(o.a)(v.gravityRifts.concat(v.pokGravityRifts)):Object(o.a)(v.gravityRifts),s=!0),s&&b>0)&&(a.some((function(e){return g.includes(e)}))?k.push(g.find((function(e){return a.includes(e)}))):(l.shuffle(a),g.push(a[0]),k.push(a[0]),r.splice(r.indexOf(a[0]),1),b-=1))})),g=b>r.length?g.concat(i.slice(0,y+(b-r.length)).concat(r)):y>i.length?g.concat(i.concat(r.slice(0,b+(y-i.length)))):g.concat(i.slice(0,y).concat(r.slice(0,b)));var T=t?Object(o.a)(v.alphaWormholes.concat(v.pokAlphaWormholes)):Object(o.a)(v.alphaWormholes),S=t?Object(o.a)(v.betaWormholes.concat(v.pokBetaWormholes)):Object(o.a)(v.betaWormholes);g=this.ensureWormholesForType(g,[26],T,S,t,k),g=this.ensureWormholesForType(g,[25,64],S,T,t,k);var N={};switch(this.state.currentPickStyle){case"random":return this.shuffle(g),g;case"custom":N={resource:parseInt(this.state.resourceWeight),influence:parseInt(this.state.influenceWeight),planet_count:parseInt(this.state.planetCountWeight),specialty:parseInt(this.state.specialtyWeight),anomaly:parseInt(this.state.anomalyWeight),wormhole:parseInt(this.state.wormholeWeight),racial:parseInt(this.state.wormholeWeight)-5};break;case"resource":N={resource:100,influence:10,planet_count:10,specialty:10,anomaly:10,wormhole:10,racial:5};break;case"influence":N={resource:10,influence:100,planet_count:10,specialty:10,anomaly:10,wormhole:10,racial:5};break;default:N=t?{resource:80,influence:30,planet_count:15,specialty:50,anomaly:40,wormhole:25,racial:20}:{resource:80,influence:30,planet_count:15,specialty:40,anomaly:30,wormhole:25,racial:20}}return g=this.getWeightedPlanetList(g,N,k)}},{key:"placeHyperlanes",value:function(e){for(var t=0;t<F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].hyperlane_tiles.length;t++){var a=F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].hyperlane_tiles[t];e[a[0]]=a[1]+"-"+a[2]}}},{key:"placeHomeSystems",value:function(e,t){for(var a=0;a<F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].home_worlds.length;a++){var s=F.styles[this.state.currentNumberOfPlayers.toString()][this.state.currentBoardStyle].home_worlds[a];this.state.pickRaces&&!this.state.pickMultipleRaces?(e[s]=he.raceToHomeSystemMap[t[0]],t.shift()):e[s]=0}}},{key:"placeLockedSystems",value:function(e){var t,a=Object(n.a)(this.props.lockedTiles);try{for(a.s();!(t=a.n()).done;){var s=t.value,l=this.props.tiles.indexOf(s);if(l>=0){var i=e.indexOf(s);e[i]=e[l],e[l]=s}}}catch(r){a.e(r)}finally{a.f()}}},{key:"checkAdjacencies",value:function(e,t){var a,s=t?Object(o.a)(v.anomaly.concat(v.pokAnomaly)):Object(o.a)(v.anomaly),l=Object(n.a)(s);try{for(l.s();!(a=l.n()).done;){var i=a.value;if(this.props.includedTiles.indexOf(i)<0&&this.props.lockedTiles.indexOf(i)<0){var r=e.indexOf(i);if(r>=0){var c,u=j[r],h=[],p=Object(n.a)(u);try{for(p.s();!(c=p.n()).done;){var d=e[c.value];s.indexOf(d)>=0&&h.push(d)}}catch(xe){p.e(xe)}finally{p.f()}var m=!1,b=t?Object(o.a)(v.blankRed.concat(v.pokBlankRed)):Object(o.a)(v.blankRed);if(h.length>1){var y,g=[],f=Object(n.a)(b);try{for(f.s();!(y=f.n()).done;){var O=y.value;e.indexOf(O)<0&&g.push(O)}}catch(xe){f.e(xe)}finally{f.f()}(g=this.shuffle(g)).length>0&&(m=!0,e[r]=g[0])}if(!m&&h.length>0){var x,w=Object(n.a)(b);try{for(w.s();!(x=w.n()).done;){var k=x.value,T=e.indexOf(k);if(T>=0){var S,N=j[T],P=!0,C=Object(n.a)(N);try{for(C.s();!(S=C.n()).done;){var M=S.value;if(s.indexOf(e[M])>=0&&M!==r){P=!1;break}}}catch(xe){C.e(xe)}finally{C.f()}if(P){e[r]=k,e[T]=i,m=!0;break}}}}catch(xe){w.e(xe)}finally{w.f()}if(!m){var R,A=t?Object(o.a)(v.blankRed.concat(v.pokBlankRed)):Object(o.a)(v.blankRed),B=[],H=Object(n.a)(A);try{for(H.s();!(R=H.n()).done;){var _=R.value;e.indexOf(_)<0&&B.push(_)}}catch(xe){H.e(xe)}finally{H.f()}(B=this.shuffle(B)).length>0&&(m=!0,e[r]=B[0]),m||console.log("Error! Unable to swap anomaly to a free position.")}}}}}}catch(xe){l.e(xe)}finally{l.f()}var E,I=t?Object(o.a)(v.alphaWormholes.concat(v.pokAlphaWormholes)):Object(o.a)(v.alphaWormholes),z=t?Object(o.a)(v.betaWormholes.concat(v.pokBetaWormholes)):Object(o.a)(v.betaWormholes),W=Object(n.a)(I);try{for(W.s();!(E=W.n()).done;){var V=E.value,F=e.indexOf(V);if(F>=0&&0===v.all[V].planets.length){var L,D=j[F],K=!1,G=Object(n.a)(D);try{for(G.s();!(L=G.n()).done;){var U=L.value;if(I.indexOf(e[U])>=0){K=!0;break}}}catch(xe){G.e(xe)}finally{G.f()}if(K){var Y=t?Object(o.a)(v.blankRed.concat(v.pokBlankRed)):Object(o.a)(v.blankRed);Y=Y.filter((function(e){return I.indexOf(e)<0})),Y=this.shuffle(Y);var J,$=Object(n.a)(Y);try{for($.s();!(J=$.n()).done;){var X=J.value,q=e.indexOf(X);if(q>=0){var Q,Z=j[q],ee=!0,te=Object(n.a)(Z);try{for(te.s();!(Q=te.n()).done;){var ae=Q.value;if(I.indexOf(e[ae])>=0&&ae!==F||s.indexOf(V)>=0&&s.indexOf(e[ae])>=0){ee=!1;break}}}catch(xe){te.e(xe)}finally{te.f()}if(ee){e[F]=X,e[q]=V;break}}}}catch(xe){$.e(xe)}finally{$.f()}}}}}catch(xe){W.e(xe)}finally{W.f()}var se,le=Object(n.a)(z);try{for(le.s();!(se=le.n()).done;){var ie=se.value,re=e.indexOf(ie);if(re>=0&&0===v.all[ie].planets.length){var ne,oe=j[re],ce=!1,ue=Object(n.a)(oe);try{for(ue.s();!(ne=ue.n()).done;){var he=ne.value;if(z.indexOf(e[he])>=0){ce=!0;break}}}catch(xe){ue.e(xe)}finally{ue.f()}if(ce){var pe=t?Object(o.a)(v.blue.concat(v.pokBlue)):Object(o.a)(v.blue);pe=pe.filter((function(e){return z.indexOf(e)<0})),pe=this.shuffle(pe);var de,me=Object(n.a)(pe);try{for(me.s();!(de=me.n()).done;){var be=de.value,ye=e.indexOf(be);if(ye>=0){var ge,fe=j[ye],je=!0,ve=Object(n.a)(fe);try{for(ve.s();!(ge=ve.n()).done;){var Oe=ge.value;if(z.indexOf(e[Oe])>=0&&Oe!==re){je=!1;break}}}catch(xe){ve.e(xe)}finally{ve.f()}if(je){e[re]=be,e[ye]=ie;break}}}}catch(xe){me.e(xe)}finally{me.f()}}}}}catch(xe){le.e(xe)}finally{le.f()}}},{key:"ensureWormholesForType",value:function(e,t,a,s,l,i){var r=l?Object(o.a)(v.red.concat(v.pokRed)):Object(o.a)(v.red),c=[],u=[];for(var h in a)e.indexOf(a[h])<0?c.push(a[h]):u.push(a[h]);if(1===u.length){c=this.shuffle(c);var p=Object(o.a)(a.concat(s)).concat(i);if(t.indexOf(u[0])<0)c=t,p=p.concat(r);else{var d,m=[],b=Object(n.a)(c);try{for(b.s();!(d=b.n()).done;){var y=d.value;t.indexOf(y)<0&&m.push(y)}}catch(g){b.e(g)}finally{b.f()}c=m}e=this.reverseReplace(e,1,c,p,!1)}return e}},{key:"ensureAnomalies",value:function(e,t,a){e=e.slice(0,t);var s=2,l=1;switch(this.state.currentNumberOfPlayers){case 3:s=3,l=1;break;case 4:s=5,l=3;break;case 6:s=3,l=2}var i=t/(s+l)*l;if(i<0)return e;var r=a?Object(o.a)(v.red.concat(v.pokRed)):Object(o.a)(v.red),n=[];for(var c in r)e.indexOf(r[c])<0?n.push(r[c]):i-=1;return n=this.shuffle(n),this.reverseReplace(e,i,n,r,!1)}},{key:"reverseReplace",value:function(e,t,a,s,l){l&&(e=e.reverse());for(var i=e.length-1;t>0&&a.length>0&&i>0;){var r=e[i];s.indexOf(r)<0&&-1!==r&&18!==r&&0!==r&&"string"!==typeof r&&(e[i]=a.shift(),t-=1),i-=1}return l&&(e=e.reverse()),e}},{key:"getWeightedPlanetList",value:function(e,t,a){var s=[];for(var l in e)s.push([e[l],this.getWeight(e[l],t,a)]);s.sort((function(e,t){return t[1]-e[1]}));for(var i=0,r=s[0][1],n=[],o=[];i<s.length;){var c=s[i];c[1]>=r-this.state.shuffleThreshold?n.push(c):(n=this.shuffle(n),o=o.concat(n),n=[c],r=c[1]),i+=1}n=this.shuffle(n),o=o.concat(n);var u=[];for(var h in o)u.push(o[h][0]);return u}},{key:"getWeight",value:function(e,t,a){var s=0,l=v.all[e.toString()];for(var i in l.planets){var r=l.planets[i];s+=r.resources/4*t.resource,s+=r.influence/4*t.influence,s+=t.planet_count/2,s+=r.specialty?t.specialty:0}return"red"===l.type&&(s+=t.anomaly+40),s+=l.wormhole?t.wormhole:0,s+=a.indexOf(e)>-1?t.racial:0}},{key:"togglePickRacesHelp",value:function(e){this.setState({pickRacesHelp:!this.state.pickRacesHelp})}},{key:"toggleBoardStyleHelp",value:function(e){this.setState({boardStyleHelp:!this.state.boardStyleHelp})}},{key:"togglePlacementStyleHelp",value:function(e){this.setState({placementStyleHelp:!this.state.placementStyleHelp})}},{key:"togglePickStyleHelp",value:function(e){this.setState({pickStyleHelp:!this.state.pickStyleHelp})}},{key:"toggleSetPlayerNamesHelp",value:function(e){this.setState({setPlayerNamesHelp:!this.state.setPlayerNamesHelp})}},{key:"toggleSetRacesHelp",value:function(e){this.setState({setRacesHelp:!this.state.setRacesHelp})}},{key:"togglePickMultipleRacesHelp",value:function(e){this.setState({pickMultipleRacesHelp:!this.state.pickMultipleRacesHelp})}},{key:"toggleShufflePriorityHelp",value:function(e){this.setState({shufflePriorityHelp:!this.state.shufflePriorityHelp})}},{key:"toggleReversePlacementOrderHelp",value:function(e){this.setState({reversePlacementOrderHelp:!this.state.reversePlacementOrderHelp})}},{key:"toggleEnsureRacialAnomaliesHelp",value:function(e){this.setState({ensureRacialAnomaliesHelp:!this.state.ensureRacialAnomaliesHelp})}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{id:"options",className:this.props.visible?"":"d-none",children:[Object(y.jsx)("div",{className:"title",children:Object(y.jsx)("h4",{className:"text-center",children:"Generation Options"})}),Object(y.jsxs)("form",{id:"generateForm",onSubmit:this.generateBoard,children:[Object(y.jsxs)("div",{className:"custom-control custom-checkbox mb-3",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"pokExpansion",name:"useProphecyOfKings",checked:this.props.useProphecyOfKings,onChange:this.updatePok}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"pokExpansion",children:"Use Prophecy of Kings Expansion"})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"playerCount",children:"Number of Players"}),Object(y.jsx)("select",{className:"form-control",id:"playerCount",name:"currentNumberOfPlayers",value:this.state.currentNumberOfPlayers,onChange:this.updatePlayerCount,children:this.state.currentNumberOfPlayersOptions.map((function(e){return Object(y.jsx)("option",{value:e,children:e},e)}))})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("label",{htmlFor:"boardStyle",className:"d-flex",children:["Board Style",Object(y.jsx)(ue.a,{className:"icon",onClick:this.toggleBoardStyleHelp})]}),Object(y.jsx)("select",{className:"form-control",id:"boardStyle",name:"currentBoardStyle",value:this.state.currentBoardStyle,onChange:this.updateBoardStyle,children:this.state.currentBoardStyleOptions.map((function(t){return Object(y.jsx)("option",{value:t,children:e.capitalize(t)},t)}))})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("label",{htmlFor:"placementStyle",className:"d-flex",children:["Placement Style",Object(y.jsx)(ue.a,{className:"icon",onClick:this.togglePlacementStyleHelp})]}),Object(y.jsx)("select",{className:"form-control",id:"placementStyle",name:"currentPlacementStyle",value:this.state.currentPlacementStyle,onChange:this.handleInputChange,children:this.state.optionsPossible.placementStyles.map((function(t){return Object(y.jsx)("option",{value:t,children:e.capitalize(t)},t)}))})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsxs)("label",{htmlFor:"pickStyle",className:"d-flex",children:["System Weighting",Object(y.jsx)(ue.a,{className:"icon",onClick:this.togglePickStyleHelp})]}),Object(y.jsx)("select",{className:"form-control",id:"pickStyle",name:"currentPickStyle",value:this.state.currentPickStyle,onChange:this.handleInputChange,children:this.state.optionsPossible.pickStyles.map((function(t){return Object(y.jsx)("option",{value:t,children:e.capitalize(t)},t)}))})]}),Object(y.jsx)("div",{className:"ml-2 collapse "+("custom"===this.state.currentPickStyle?"show":""),id:"customPickStyle",children:Object(y.jsxs)("div",{className:"card card-body",children:[Object(y.jsx)("label",{htmlFor:"customResource",children:"Resource"}),Object(y.jsx)("input",{type:"range",className:"custom-range",name:"resourceWeight",value:this.state.resourceWeight,onChange:this.handleInputChange}),Object(y.jsx)("label",{htmlFor:"customInfluence",children:"Influence"}),Object(y.jsx)("input",{type:"range",className:"custom-range",name:"influenceWeight",value:this.state.influenceWeight,onChange:this.handleInputChange}),Object(y.jsx)("label",{htmlFor:"customPlanetCount",children:"Planet Count"}),Object(y.jsx)("input",{type:"range",className:"custom-range",name:"planetCountWeight",value:this.state.planetCountWeight,onChange:this.handleInputChange}),Object(y.jsx)("label",{htmlFor:"customSpecialty",children:"Specialty"}),Object(y.jsx)("input",{type:"range",className:"custom-range",name:"specialtyWeight",value:this.state.specialtyWeight,onChange:this.handleInputChange}),Object(y.jsx)("label",{htmlFor:"customAnomaly",children:"Anomaly"}),Object(y.jsx)("input",{type:"range",className:"custom-range",name:"anomalyWeight",value:this.state.anomalyWeight,onChange:this.handleInputChange}),Object(y.jsx)("label",{htmlFor:"customWormhole",children:"Wormhole"}),Object(y.jsx)("input",{type:"range",className:"custom-range",name:"wormholeWeight",value:this.state.wormholeWeight,onChange:this.handleInputChange})]})}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{htmlFor:"seed",children:"Specific Seed"}),Object(y.jsx)("input",{className:"form-control",id:"seed",name:"updateSeed",type:"text",placeholder:"Enter a number to seed generation...",value:this.state.currentSeed,onChange:this.updateSeed})]}),Object(y.jsxs)("div",{className:"custom-control custom-checkbox mb-3 d-flex",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"pickRaces",name:"pickRaces",checked:this.state.pickRaces,onChange:this.handleInputChange}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"pickRaces",children:"Pick Races for Players"}),Object(y.jsx)(ue.a,{className:"icon",onClick:this.togglePickRacesHelp})]}),Object(y.jsx)("div",{className:"ml-2 mb-2 collapse "+(this.state.pickRaces?"show":""),id:"pickRacesCollapse",children:Object(y.jsxs)("div",{className:"card card-body",children:[Object(y.jsx)("button",{type:"button",className:"btn btn-outline-primary mb-2",onClick:this.toggleSetRacesHelp,children:"Set Included Races"}),Object(y.jsx)("button",{type:"button",className:"btn btn-outline-primary mb-2",onClick:this.toggleSetPlayerNamesHelp,children:"Set Player Names"}),Object(y.jsxs)("div",{className:"custom-control custom-checkbox d-flex",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"ensureRacialAnomalies",name:"ensureRacialAnomalies",checked:this.state.ensureRacialAnomalies,onChange:this.handleInputChange}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"ensureRacialAnomalies",children:"Ensure Racial Anomalies"}),Object(y.jsx)(ue.a,{className:"icon",onClick:this.toggleEnsureRacialAnomaliesHelp})]})]})}),Object(y.jsxs)("div",{className:"custom-control custom-checkbox mb-3 d-flex",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"shuffleBoards",name:"shuffleBoards",checked:this.state.shuffleBoards,onChange:this.handleInputChange}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"shuffleBoards",children:"Randomize Priorities Before Placement"}),Object(y.jsx)(ue.a,{className:"icon",onClick:this.toggleShufflePriorityHelp})]}),Object(y.jsxs)("div",{className:"custom-control custom-checkbox mb-3 d-flex",children:[Object(y.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"reversePlacementOrder",name:"reversePlacementOrder",checked:this.state.reversePlacementOrder,onChange:this.handleInputChange}),Object(y.jsx)("label",{className:"custom-control-label",htmlFor:"reversePlacementOrder",children:"Reverse Placement Order"}),Object(y.jsx)(ue.a,{className:"icon",onClick:this.toggleReversePlacementOrderHelp})]}),Object(y.jsx)(be,{visible:this.state.setPlayerNamesHelp,currentPlayerNames:this.props.currentPlayerNames,hideModal:this.toggleSetPlayerNamesHelp,handleNameChange:this.handleNameChange}),Object(y.jsx)(ye,{visible:this.state.setRacesHelp,races:this.state.optionsPossible.races,pokRaces:this.state.optionsPossible.pokRaces,useProphecyOfKings:this.props.useProphecyOfKings,currentRaces:this.props.currentRaces,hideModal:this.toggleSetRacesHelp,handleRacesChange:this.handleRacesChange}),Object(y.jsx)(de,{visible:this.state.boardStyleHelp,hideModal:this.toggleBoardStyleHelp,title:"About Board Style",content:"<p> Board style changes how the tiles are actually laid out on a newly generated map. <br> <br> Changing this would cause you to expect different hex layouts, such as different patterns of tiles, usage of hyperlanes, or unorthodox placement of home worlds. </p>"},"help-board"),Object(y.jsx)(de,{visible:this.state.placementStyleHelp,hideModal:this.togglePlacementStyleHelp,title:"About Placement Style",content:"<p> Placement style dictates where important tiles are placed. Most revolve around having at least one tile near the home system with good resources. <br> <br> <br><b>Slice:</b> Places tiles like a normal player would. Prioritizes a good pathway to mecatol, and filling in the area around the home system with good tiles. <br><b>Initial:</b> Only guarantees a good tile right in front of the home system (on the way to mecatol). Everything else is random. <br><b>Home:</b> Prioritizes all of the adjacent tiles to the home system and everything else is random. <br><b>Random:</b> Shuffles the priority levels completely. No favoritism to tiles near the home system. </p>"},"help-placement"),Object(y.jsx)(de,{visible:this.state.pickStyleHelp,hideModal:this.togglePickStyleHelp,title:"About Pick Style",content:'<p> Pick Style is used to determine how tiles are weighted for when they are placed on the board. A higher weighted tile means that the hex is more important, and so (depending on the placement style) it is put closer to home worlds to facilitate available assets. <br> <br><b>Balanced:</b> A custom weight which favors resources and planet count more than anomalies. This more accurately factors in tech specialties and influence as trade-offs to the "Resource" pick. <br><b>Resource:</b> Tiles are ordered primarily by their resource values. Higher resource planets are more coveted, and so are more important. <br><b>Influence:</b> Similar to "Resource", tiles are ordered primarily by their influence values. <br><b>Random:</b> Tiles are completely randomly ordered. Expect chaotic and unbalanced maps. <br><b>Custom:</b> Enter your own values in for balancing tradeoffs between various tile qualities. </p>'},"help-pick"),Object(y.jsx)(de,{visible:this.state.pickRacesHelp,hideModal:this.togglePickRacesHelp,title:"About Picking Races",content:"<p> Automatically assigns races to the players on the boards. <br> <br> From the set of races, turning this on will assign every player a random race (designated by assigning them the homeworld tile of that race). You should pick which player sits at a certain position before turning this on. </p>"},"help-races"),Object(y.jsx)(de,{visible:this.state.pickMultipleRacesHelp,hideModal:this.togglePickMultipleRacesHelp,title:"About Picking Multiple Races",content:"<p> Divides all the races evenly up amongst the players in the game (with no overflow), so that they can choose from a selection instead of being specifically assigned one race. <br> <br> Some groups prefer to have a draft, where every player is given a few races to pick between. This lets them pick the races that they want to play, but not have any conflicts with other players about playing a certain race. </p>"},"help-multiple"),Object(y.jsx)(de,{visible:this.state.shufflePriorityHelp,hideModal:this.toggleShufflePriorityHelp,title:"About Shuffling Priority",content:"<p> Randomizes the priority picks for each picking round. <br> <br> Normally when placing tiles, this tool attempts to place the tiles so player 1 does not always get the best tiles. To do this, it follows the game setup rules and (in a 6 player game) player 1 gets to place tile 1 and 12, while player 6 gets to place tile 6 and 7. <br> <br> Turning this on stops this from happening, and instead completely randomizes the placement order. </p>"},"help-priority"),Object(y.jsx)(de,{visible:this.state.reversePlacementOrderHelp,hideModal:this.toggleReversePlacementOrderHelp,title:"About Reverse Placement Order",content:"<p> Reverses which tiles are placed first in placement order. <br> <br> Tiles are normally placed in priority (see randomize priority help). This reverses the order, so that the last picks are first, which generally has the effect of pushing the more valuable tiles towards the center of the galaxy. </p>"},"help-reverse"),Object(y.jsx)(de,{visible:this.state.ensureRacialAnomaliesHelp,hideModal:this.toggleEnsureRacialAnomaliesHelp,title:"About Ensure Racial Anomalies",content:"<p> Ensures that races get their beneficial anomalies <br> <br> This option makes it so that Muaat will always receive a supernova, Saar will always receive an asteroid field, Empyrean will always receive a nebulae and Vuil'Raith will always receive a gravity rift. </p>"},"help-racial-anomalies"),Object(y.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Generate"})]})]})}}]),a}(l.a.Component),fe=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={isOptionsMenuShowing:!0,overviewVisible:!0,extraTilesVisible:!1,moreInfoVisible:!1,backgroundAnimated:!0,showAllExtraTiles:!1,customMapBuilding:!1,tiles:[],unusedTiles:[],overlayVisible:!1,zoom:1,lastCall:0,mobileBreakpoint:700,isMobileView:!1,encodedOptions:"",useProphecyOfKings:!1,currentPlayerNames:["","","","","","","",""],currentRaces:Object(o.a)(he.races),lockedTiles:[],excludedTiles:[],includedTiles:[],tileClicked:-1,currentMobileHover:""},s.mapOptions=l.a.createRef(),s.map=l.a.createRef(),s.drawMap=s.drawMap.bind(Object(h.a)(s)),s.onPopState=s.onPopState.bind(Object(h.a)(s)),s.checkResize=s.checkResize.bind(Object(h.a)(s)),s.updateTiles=s.updateTiles.bind(Object(h.a)(s)),s.updateLockedTiles=s.updateLockedTiles.bind(Object(h.a)(s)),s.updateInExcludedTiles=s.updateInExcludedTiles.bind(Object(h.a)(s)),s.updateTileClicked=s.updateTileClicked.bind(Object(h.a)(s)),s.updateRaces=s.updateRaces.bind(Object(h.a)(s)),s.updatePlayerNames=s.updatePlayerNames.bind(Object(h.a)(s)),s.validateTiles=s.validateTiles.bind(Object(h.a)(s)),s.toggleBackground=s.toggleBackground.bind(Object(h.a)(s)),s.removeTrailing=s.removeTrailing.bind(Object(h.a)(s)),s.getTileNumber=s.getTileNumber.bind(Object(h.a)(s)),s.toggleOptionsMenu=s.toggleOptionsMenu.bind(Object(h.a)(s)),s.toggleProphecyOfKings=s.toggleProphecyOfKings.bind(Object(h.a)(s)),s.toggleOverlay=s.toggleOverlay.bind(Object(h.a)(s)),s.updateTileNumberOverlays=s.updateTileNumberOverlays.bind(Object(h.a)(s)),s.toggleMoreInfo=s.toggleMoreInfo.bind(Object(h.a)(s)),s.toggleExtraTiles=s.toggleExtraTiles.bind(Object(h.a)(s)),s.toggleShowAllExtraTiles=s.toggleShowAllExtraTiles.bind(Object(h.a)(s)),s.toggleCustomMapBuilding=s.toggleCustomMapBuilding.bind(Object(h.a)(s)),s.showExtraTiles=s.showExtraTiles.bind(Object(h.a)(s)),s.unsetAllTiles=s.unsetAllTiles.bind(Object(h.a)(s)),s.zoomScroll=s.zoomScroll.bind(Object(h.a)(s)),s.zoomPlusClick=s.zoomPlusClick.bind(Object(h.a)(s)),s.zoomMinusClick=s.zoomMinusClick.bind(Object(h.a)(s)),s.drag=s.drag.bind(Object(h.a)(s)),s.drop=s.drop.bind(Object(h.a)(s)),s.dragEnter=s.dragEnter.bind(Object(h.a)(s)),s.dragLeave=s.dragLeave.bind(Object(h.a)(s)),s.allowDrop=s.allowDrop.bind(Object(h.a)(s)),s.handleDrop=s.handleDrop.bind(Object(h.a)(s)),s.handleTouchMove=s.handleTouchMove.bind(Object(h.a)(s)),s.handleTouchEnd=s.handleTouchEnd.bind(Object(h.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.$mapContainer=b()("#mainContent"),this.$tiMap=b()("#map"),window.onpopstate=this.onPopState,this.onPopState(),window.onresize=this.checkResize,this.checkResize(),document.addEventListener("mousedown",this.updateTileClicked),document.addEventListener("wheel",this.zoomScroll,!0)}},{key:"componentWillUnmount",value:function(){window.onpopstate=function(){},document.removeEventListener("mousedown",this.updateTileClicked),document.removeEventListener("wheel",this.zoomScroll)}},{key:"checkResize",value:function(){window.innerWidth<this.state.mobileBreakpoint?this.state.isMobileView||(this.setState({isMobileView:!0,isOptionsMenuShowing:!1}),document.documentElement.style.setProperty("--options-width","0px")):(this.setState({isMobileView:!1,isOptionsMenuShowing:!0}),document.documentElement.style.setProperty("--options-width","400px")),this.drawMap()}},{key:"onPopState",value:function(e){var t=this,a=new URL(document.location),s=a.searchParams.get("settings"),l=a.searchParams.get("tiles"),i=null!==l?this.validateTiles(l):[];null!==s&&void 0!==s&&""!==s?this.setState({encodedOptions:s},(function(){t.mapOptions.current.decodeSettings(s,i)})):i.length>0?this.setState({tiles:i},this.drawMap):this.setState({tiles:[]},this.drawMap)}},{key:"updateTiles",value:function(e,t,a,s){var l=this;s||(e=this.removeTrailing(e));var i="&tiles="+e.toString(),r=this.state.encodedOptions;void 0!==t?(i=this.state.lockedTiles.length>0||this.state.includedTiles.length>0?"?settings="+r+i:"?settings="+t,r=t):i="?settings="+r+i,(a||void 0===t)&&window.history.pushState({},null,window.location.pathname+i);var o=this.state.isOptionsMenuShowing;this.state.isMobileView&&(o=!1);var c=[];c=c.concat(v.blue).concat(v.red),this.state.useProphecyOfKings&&(c=c.concat(v.pokBlue).concat(v.pokRed));var u,h=[],p=Object(n.a)(c);try{for(p.s();!(u=p.n()).done;){var d=u.value;e.includes(d)||h.push(d)}}catch(b){p.e(b)}finally{p.f()}var m=this.state.tileClicked;a&&(m=-1),this.setState({tiles:e,unusedTiles:h,tileClicked:m,encodedOptions:r,isOptionsMenuShowing:o},(function(){l.showExtraTiles(),l.drawMap()}))}},{key:"updateLockedTiles",value:function(e){this.setState({lockedTiles:e})}},{key:"updateTileClicked",value:function(e){"number"===typeof e||"mainContent"!==e.target.id&&"map"!==e.target.id?"number"===typeof e&&this.setState({tileClicked:e}):this.setState({tileClicked:-1})}},{key:"updateInExcludedTiles",value:function(e,t){this.setState({includedTiles:e,excludedTiles:t})}},{key:"removeTrailing",value:function(e){for(;-1===e[e.length-1];)e.pop();return e}},{key:"validateTiles",value:function(e){"["===(e=e.replaceAll(" ","")).charAt(0)&&(e=e.substring(1,e.length)),"]"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=e.split(",");var t,a=[],s=Object(n.a)(e);try{for(s.s();!(t=s.n()).done;){var l=t.value;a.push(this.getTileNumber(l))}}catch(i){s.e(i)}finally{s.f()}return a}},{key:"toggleOptionsMenu",value:function(){if(window.innerWidth>=this.state.mobileBreakpoint){var e=this.state.isOptionsMenuShowing?"0px":"400px";document.documentElement.style.setProperty("--options-width",e)}this.drawMap(),this.setState({isOptionsMenuShowing:!this.state.isOptionsMenuShowing})}},{key:"toggleOverlay",value:function(){this.updateTileNumberOverlays(!this.state.overlayVisible),this.setState({overlayVisible:!this.state.overlayVisible})}},{key:"updateTileNumberOverlays",value:function(e){for(var t=0;t<F.pokSize;t++){var a=b()("#number-"+t);e?-1!==this.getTileNumber(this.state.tiles[t])||this.state.customMapBuilding?a.show():a.hide():0===this.state.tiles[t]&&this.state.moreInfoVisible||a.hide()}}},{key:"toggleShowAllExtraTiles",value:function(){this.setState({showAllExtraTiles:!this.state.showAllExtraTiles},this.showExtraTiles)}},{key:"unsetAllTiles",value:function(){var e=this;this.setState({tileClicked:-1},(function(){e.updateTiles(new Array(e.state.tiles.length).fill(-1),void 0,!1,!0)}))}},{key:"toggleCustomMapBuilding",value:function(){var e=this;this.setState({customMapBuilding:!this.state.customMapBuilding},(function(){e.updateTileNumberOverlays(e.state.customMapBuilding||e.state.overlayVisible),e.showExtraTiles(),e.drawMap()}))}},{key:"toggleProphecyOfKings",value:function(){this.setState({useProphecyOfKings:!this.state.useProphecyOfKings},this.showExtraTiles)}},{key:"toggleMoreInfo",value:function(e,t){var a=this;t=void 0!==t&&t;var s=this.state.moreInfoVisible?"0px":"400px";document.documentElement.style.setProperty("--more-info-width",s);for(var l=0;l<F.pokSize;l++)if(0===this.state.tiles[l]&&!this.state.overlayVisible){var i=b()("#number-"+l);this.state.moreInfoVisible?i.hide():i.show()}this.setState({moreInfoVisible:!this.state.moreInfoVisible},(function(){a.state.extraTilesVisible&&!t&&a.toggleExtraTiles(e,!0)}))}},{key:"toggleExtraTiles",value:function(e,t){var a=this;t=void 0!==t&&t,this.showExtraTiles();var s=this.state.extraTilesVisible?"0px":"250px";document.documentElement.style.setProperty("--extra-tiles-width",s),this.setState({extraTilesVisible:!this.state.extraTilesVisible},(function(){a.state.moreInfoVisible&&!t&&a.toggleMoreInfo(e,!0)}))}},{key:"showExtraTiles",value:function(){var e=[];e=e.concat(v.blue).concat(v.red),(this.state.useProphecyOfKings||this.state.showAllExtraTiles)&&(e=e.concat(v.pokBlue).concat(v.pokRed)),this.state.customMapBuilding&&(e=[-1].concat(e.concat(v.hyperlanes)));var t,a=Object(n.a)(e);try{for(a.s();!(t=a.n()).done;){var s=t.value,l=b()("#extra-"+s),i=b()("#extra-number-"+s);this.state.showAllExtraTiles||this.state.customMapBuilding?(l.show(),i.show()):this.state.tiles.includes(s)?(l.hide(),i.hide()):(l.show(),i.show())}}catch(r){a.e(r)}finally{a.f()}}},{key:"toggleBackground",value:function(){this.state.backgroundAnimated?(b()("#stars").css("animation","staticStar 50s linear infinite"),b()("#stars2").css("animation","staticStar 100s linear infinite"),b()("#stars3").css("animation","staticStar 150s linear infinite")):(b()("#stars").css("animation","animateStar 50s linear infinite"),b()("#stars2").css("animation","animateStar 100s linear infinite"),b()("#stars3").css("animation","animateStar 150s linear infinite")),this.setState({backgroundAnimated:!this.state.backgroundAnimated})}},{key:"zoomScroll",value:function(e){this.state.lastCall<Date.now()-200&&e.ctrlKey&&("mainContent"===e.target.id||"map"===e.target.id||"tile"===e.target.id.split("-")[0])&&(e.deltaY<0?this.state.zoom<3&&this.setState({zoom:this.state.zoom+.2,lastCall:Date.now()},this.drawMap):e.deltaY>0&&this.state.zoom>.5&&this.setState({zoom:this.state.zoom-.2,lastCall:Date.now()},this.drawMap))}},{key:"zoomPlusClick",value:function(){this.state.zoom<3&&this.setState({zoom:this.state.zoom+.75},this.drawMap)}},{key:"zoomMinusClick",value:function(){this.state.zoom>.5&&this.setState({zoom:this.state.zoom-.75},this.drawMap)}},{key:"updateRaces",value:function(e){this.setState({currentRaces:e})}},{key:"updatePlayerNames",value:function(e){this.setState({currentPlayerNames:e})}},{key:"getTileNumber",value:function(e,t){if(void 0!==e){var a=/^((8[3-9]|90|91)[AB])-?([0-5])?$/gm.exec(e);if(a)return t?Number(a[2]):a[1];return(a=/^(80|81|82|-1|[0-7]?[0-9])-?([0-5])?$/gm.exec(e))?Number(a[1]):-1}return-1}},{key:"drawMap",value:function(){if(void 0===this.state||this.state.tiles.length<=0)this.setState({overviewVisible:!0,mapVisible:!1,mapControlsVisible:!1});else{this.setState({overviewVisible:!1,mapVisible:!0,mapControlsVisible:!0});var e=9,t=7;this.getTileNumber(this.state.tiles[37],!0)>=0||this.getTileNumber(this.state.tiles[38],!0)>=0||this.getTileNumber(this.state.tiles[60],!0)>=0||this.getTileNumber(this.state.tiles[48],!0)>=0||this.getTileNumber(this.state.tiles[49],!0)>=0||this.getTileNumber(this.state.tiles[50],!0)>=0?(e=9,t=7):this.getTileNumber(this.state.tiles[19],!0)>=0||this.getTileNumber(this.state.tiles[20],!0)>=0||this.getTileNumber(this.state.tiles[36],!0)>=0||this.getTileNumber(this.state.tiles[27],!0)>=0||this.getTileNumber(this.state.tiles[28],!0)>=0||this.getTileNumber(this.state.tiles[29],!0)>=0?(e=7,t=5.5):this.getTileNumber(this.state.tiles[7],!0)>=0||this.getTileNumber(this.state.tiles[8],!0)>=0||this.getTileNumber(this.state.tiles[18],!0)>=0||this.getTileNumber(this.state.tiles[12],!0)>=0||this.getTileNumber(this.state.tiles[13],!0)>=0||this.getTileNumber(this.state.tiles[14],!0)>=0?(e=5,t=4):(this.getTileNumber(this.state.tiles[1],!0)>=0||this.getTileNumber(this.state.tiles[2],!0)>=0||this.getTileNumber(this.state.tiles[6],!0)>=0||this.getTileNumber(this.state.tiles[3],!0)>=0||this.getTileNumber(this.state.tiles[4],!0)>=0||this.getTileNumber(this.state.tiles[5],!0)>=0)&&(e=3,t=2.5);var a=this.$mapContainer.width()-0,s=this.$mapContainer.height()-0,l=Math.floor(a/t),i=Math.floor(s/e),r=Math.min(this.state.zoom*Math.min(l,Math.floor(364/317*i)),364),n=Math.floor(317/364*r);this.$tiMap.css("width",r*t).css("height",n*e);for(var o=function(e,t){var a=-e,s=-t,l=Math.ceil(.5*a),i=Math.ceil(.5*s),r=Math.ceil(.75*a);return[[l,i],[l,i+s],[l-r,i+i],[l-r,0],[l,i-s],[l+r,0],[l+r,i+i],[l,i+s+s],[l-r,i+s+i],[l-a-l,i+s],[l-a-l,i],[l-a-l,i-s],[l-r,i-s-i],[l,i-s-s],[l+r,i-s-i],[l+a+l,i-s],[l+a+l,i],[l+a+l,i+s],[l+r,i+s+i],[l,i+s+s+s],[l-r,i+s+s+i],[l-a-l,i+s+s],[l-r-a-l,i+s+i],[l-r-a-l,i+i],[l-r-a-l,i-i],[l-r-a-l,i-s-i],[l-a-l,i-s-s],[l-r,i-s-s-i],[l,i-s-s-s],[l+r,i-s-s-i],[l+a+l,i-s-s],[l+r+a+l,i-s-i],[l+r+a+l,i-i],[l+r+a+l,i+i],[l+r+a+l,i+s+i],[l+a+l,i+s+s],[l+r,i+s+s+i],[l,i+s+s+s+s],[l-r,i+s+s+s+i],[l-a-l,i+s+s+s],[l-r-a-l,i+s+s+i],[l-a-a-a,i+s+s],[l-a-a-a,i+s],[l-a-a-a,i],[l-a-a-a,i-s],[l-a-a-a,i-s-s],[l-r-a-l,i-s-s-i],[l-a-l,i-s-s-s],[l-r,i-s-s-s-i],[l,i-s-s-s-s],[l+r,i-s-s-s-i],[l+a+l,i-s-s-s],[l+r+a+l,i-s-s-i],[l+a+a+a,i-s-s],[l+a+a+a,i-s],[l+a+a+a,i],[l+a+a+a,i+s],[l+a+a+a,i+s+s],[l+r+a+l,i+s+s+i],[l+a+l,i+s+s+s],[l+r,i+s+s+s+i]]}(r,n),c=0,u=0;u<o.length;u++){var h=b()("#tile-"+u),p=b()("#tile-wrapper-"+u),d=b()("#number-"+u),m=b()("#underlay-"+u);if(this.state.tiles[u]>=0||"string"===typeof this.state.tiles[u]||this.state.customMapBuilding){if(h.css("left",0).css("top",0).css({transform:"rotate(0)"}).show(),p.css("width",r).css("height",n).css("margin-left",o[u][0]).css("margin-top",o[u][1]).css("left",t/2*r).css("top",e/2*n).show(),"string"===typeof this.state.tiles[u]&&"0"!==this.state.tiles[u].split("-")[1]){var y=60*Number(this.state.tiles[u].split("-")[1]);h.css({transform:"rotate("+y+"deg)"})}}else h.hide();if(d.css("margin-left","-10px").css("top",n/2-10).html(this.getTileNumber(this.state.tiles[u])),m.css("width",r+6).css("height",n+6).css("margin-left","-3px").css("margin-top","-3px"),0===this.state.tiles[u]){var g=this.state.currentPlayerNames[c];d.html(""===g?"P"+(c+1):g),c+=1}}this.$tiMap.removeClass("center-map"),this.$tiMap.removeClass("center-map-vertical"),this.$tiMap.removeClass("center-map-horizontal"),this.state.zoom>1?(r*t<a?this.$tiMap.addClass("center-map-horizontal"):n*e<s&&this.$tiMap.addClass("center-map-vertical"),b()("#tile-0").get(0).scrollIntoView({behavior:"smooth",block:"center",inline:"center"})):this.$tiMap.addClass("center-map")}}},{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"dragEnter",value:function(e){var t=b()("#"+e.target.id),a=b()("#underlay-"+e.target.id.split("-")[1]);t.addClass("tile-target"),a.addClass("underlay-target")}},{key:"dragLeave",value:function(e){var t=b()("#"+e.target.id),a=b()("#underlay-"+e.target.id.split("-")[1]);t.removeClass("tile-target"),a.removeClass("underlay-target")}},{key:"drag",value:function(e){e.dataTransfer.setData("text",e.target.id)}},{key:"drop",value:function(e){e.preventDefault();var t=e.dataTransfer.getData("text"),a=e.target.id;this.handleDrop(a,t)}},{key:"handleDrop",value:function(e,t){var a=this,s=b()("#"+e),l=b()("#"+t),i=b()("#underlay-"+e.split("-")[1]),r=e.split("-")[0],n=t.split("-")[0],c=e.slice(e.indexOf("-")+1),u=t.slice(t.indexOf("-")+1),h=Object(o.a)(this.state.tiles),p=!0;if("tile"===n&&"tile"===r){var d=h[c];h[c]=h[u],h[u]=d}else if("extra"===n&&"tile"===r){var m=h[c];h[c]=this.getTileNumber(u),this.state.showAllExtraTiles||this.state.customMapBuilding?p=!1:l.attr("id","extra-"+m)}else if("tile"===n&&"extra"===r){var y=h[u];h[u]=this.getTileNumber(c),this.state.showAllExtraTiles||this.state.customMapBuilding?p=!1:s.attr("id","extra-"+y)}else this.state.showAllExtraTiles||this.state.customMapBuilding?p=!1:(s.attr("id","extra-"+u),l.attr("id","extra-"+c));if(p){var g=s.attr("src");s.attr("src",l.attr("src")),l.attr("src",g)}s.removeClass("tile-target"),i.removeClass("underlay-target"),this.state.customMapBuilding&&(h=Array.from(h,(function(e){return"undefined"===typeof e?-1:e}))),this.setState({tileClicked:-1},(function(){a.updateTiles(h)}))}},{key:"handleTouchMove",value:function(e){var t=e.changedTouches[0],a=document.elementFromPoint(t.clientX,t.clientY);if(void 0!==a.id&&""!==a.id&&a.id!==this.state.currentMobileHover){var s=b()("#"+a.id),l=b()("#underlay-"+a.id.split("-")[1]);if(s.addClass("tile-target"),l.addClass("underlay-target"),""!==this.state.currentMobileHover){var i=b()("#"+this.state.currentMobileHover),r=b()("#underlay-"+this.state.currentMobileHover.split("-")[1]);i.removeClass("tile-target"),r.removeClass("underlay-target")}this.setState({currentMobileHover:a.id,tileClicked:-1})}}},{key:"handleTouchEnd",value:function(e){e.stopPropagation();var t=e.changedTouches[0],a=document.elementFromPoint(t.clientX,t.clientY);if(this.handleDrop(e.target.id,a.id),""!==this.state.currentMobileHover){var s=b()("#"+this.state.currentMobileHover),l=b()("#underlay-"+this.state.currentMobileHover.split("-")[1]);s.removeClass("tile-target"),l.removeClass("underlay-target"),this.setState({currentMobileHover:"",tileClicked:-1})}}},{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{id:"mainContent",className:"justify-content-center align-items-center",onClick:this.updateTileClicked,children:[Object(y.jsx)(V,{visible:this.state.overviewVisible}),Object(y.jsx)(G,{visible:this.state.mapVisible,overlayVisible:this.state.overlayVisible,tiles:this.state.tiles,useProphecyOfKings:this.state.useProphecyOfKings,ref:this.map,unusedTiles:this.state.unusedTiles,updateTiles:this.updateTiles,lockedTiles:this.state.lockedTiles,updateLockedTiles:this.updateLockedTiles,includedTiles:this.state.includedTiles,updateInExcludedTiles:this.updateInExcludedTiles,excludedTiles:this.state.excludedTiles,tileClicked:this.state.tileClicked,updateTileClicked:this.updateTileClicked,getTileNumber:this.getTileNumber,drag:this.drag,drop:this.drop,dragEnter:this.dragEnter,dragLeave:this.dragLeave,allowDrop:this.allowDrop,touchEnd:this.handleTouchEnd,touchMove:this.handleTouchMove})]}),Object(y.jsx)(oe,{visible:this.state.isOptionsMenuShowing,isMobileView:this.state.isMobileView,toggleOptions:this.toggleOptionsMenu}),Object(y.jsx)(le,{visible:this.state.mapControlsVisible,extraTilesVisible:this.state.extraTilesVisible,moreInfoVisible:this.state.moreInfoVisible,overlayVisible:this.state.overlayVisible,tiles:this.state.tiles,map:this.map,toggleOverlay:this.toggleOverlay,toggleMoreInfo:this.toggleMoreInfo,toggleExtraTiles:this.toggleExtraTiles,zoomPlus:this.zoomPlusClick,zoomMinus:this.zoomMinusClick,toggleBackground:this.toggleBackground,updateTiles:this.updateTiles,removeTrailing:this.removeTrailing}),Object(y.jsx)(B,{visible:this.state.extraTilesVisible,overlayVisible:this.state.overlayVisible,useProphecyOfKings:this.state.useProphecyOfKings,showAllExtraTiles:this.state.showAllExtraTiles,customMapBuilding:this.state.customMapBuilding,updateTiles:this.updateTiles,toggleShowAllExtraTiles:this.toggleShowAllExtraTiles,toggleCustomMapBuilding:this.toggleCustomMapBuilding,unsetAllTiles:this.unsetAllTiles,drag:this.drag,drop:this.drop,dragEnter:this.dragEnter,dragLeave:this.dragLeave,allowDrop:this.allowDrop}),Object(y.jsx)(R,{visible:this.state.moreInfoVisible,currentPlayerNames:this.state.currentPlayerNames,useProphecyOfKings:this.state.useProphecyOfKings,tiles:this.state.tiles,getTileNumber:this.getTileNumber}),Object(y.jsx)(ge,{visible:this.state.isOptionsMenuShowing,useProphecyOfKings:this.state.useProphecyOfKings,currentPlayerNames:this.state.currentPlayerNames,currentRaces:this.state.currentRaces,tiles:this.state.tiles,includedTiles:this.state.includedTiles,excludedTiles:this.state.excludedTiles,lockedTiles:this.state.lockedTiles,ref:this.mapOptions,toggleProphecyOfKings:this.toggleProphecyOfKings,updateTiles:this.updateTiles,showExtraTiles:this.showExtraTiles,updateRaces:this.updateRaces,updatePlayerNames:this.updatePlayerNames}),Object(y.jsx)(K.a,{effect:"solid"}),Object(y.jsx)(f,{})]})}}]),a}(l.a.Component),je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,s=t.getFID,l=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),l(e),i(e),r(e)}))};r.a.render(Object(y.jsx)(l.a.StrictMode,{children:Object(y.jsx)(fe,{})}),document.getElementById("root")),je()}},[[49,1,2]]]);
//# sourceMappingURL=main.8dbc1b23.chunk.js.map